<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@framers/agentos - v0.1.33</title><meta name="description" content="Documentation for @framers/agentos"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"><a href="https://agentos.sh">Website</a><a href="https://github.com/framersai/agentos">GitHub</a><a href="https://www.npmjs.com/package/@framers/agentos">npm</a></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@framers/agentos - v0.1.33</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>@framers/agentos - v0.1.33</h2></div><div class="tsd-panel tsd-typography"><div align="center">

<a href="https://agentos.sh">
  <img src="https://raw.githubusercontent.com/framersai/agentos/master/assets/agentos-primary-transparent-2x.png" alt="AgentOS" height="80" />
</a>

<a id="md:agentos" class="tsd-anchor"></a><h1><a href="#md:agentos">AgentOS</a></h1><p><strong>Modular orchestration runtime for adaptive AI agents</strong></p>
<p><a href="https://www.npmjs.com/package/@framers/agentos"><img src="https://img.shields.io/npm/v/@framers/agentos?style=flat-square&logo=npm&color=cb3837" alt="npm version"></a>
<a href="https://github.com/framersai/agentos/actions"><img src="https://img.shields.io/github/actions/workflow/status/framersai/agentos/ci.yml?style=flat-square&logo=github&label=CI" alt="CI"></a>
<a href="https://codecov.io/gh/framersai/agentos"><img src="https://codecov.io/gh/framersai/agentos/graph/badge.svg" alt="codecov"></a>
<a href="https://www.typescriptlang.org/"><img src="https://img.shields.io/badge/TypeScript-5.4+-3178c6?style=flat-square&logo=typescript&logoColor=white" alt="TypeScript"></a>
<a href="https://opensource.org/licenses/Apache-2.0"><img src="https://img.shields.io/badge/License-Apache_2.0-blue?style=flat-square" alt="License"></a></p>
<p><a href="https://agentos.sh">Website</a> · <a href="https://docs.agentos.sh">Documentation</a> · <a href="https://www.npmjs.com/package/@framers/agentos">npm</a> · <a href="https://github.com/framersai/agentos">GitHub</a></p>
</div>

<hr>
<a id="md:table-of-contents" class="tsd-anchor"></a><h2><a href="#md:table-of-contents">Table of Contents</a></h2><ul>
<li><a href="#md:overview">Overview</a></li>
<li><a href="#md:quick-start">Quick Start</a></li>
<li><a href="#md:system-architecture">System Architecture</a><ul>
<li><a href="#md:architecture-diagram">Architecture Diagram</a></li>
<li><a href="#md:request-lifecycle">Request Lifecycle</a></li>
<li><a href="#md:layer-breakdown">Layer Breakdown</a></li>
</ul>
</li>
<li><a href="#md:core-modules">Core Modules</a><ul>
<li><a href="#md:api-layer">API Layer</a></li>
<li><a href="#md:cognitive-substrate-gmi">Cognitive Substrate (GMI)</a></li>
<li><a href="#md:llm-provider-management">LLM Provider Management</a></li>
<li><a href="#md:tool-system">Tool System</a></li>
<li><a href="#md:extension-system">Extension System</a></li>
<li><a href="#md:planning-engine">Planning Engine</a></li>
<li><a href="#md:conversation-management">Conversation Management</a></li>
<li><a href="#md:rag-retrieval-augmented-generation">RAG (Retrieval Augmented Generation)</a></li>
<li><a href="#md:safety-and-guardrails">Safety and Guardrails</a></li>
<li><a href="#md:human-in-the-loop-hitl">Human-in-the-Loop (HITL)</a></li>
<li><a href="#md:channels-system">Channels System</a></li>
<li><a href="#md:voice-and-telephony">Voice and Telephony</a></li>
<li><a href="#md:workflows">Workflows</a></li>
<li><a href="#md:multi-agent-coordination">Multi-Agent Coordination</a></li>
<li><a href="#md:observability">Observability</a></li>
<li><a href="#md:skills">Skills</a></li>
<li><a href="#md:structured-output">Structured Output</a></li>
</ul>
</li>
<li><a href="#md:configuration">Configuration</a><ul>
<li><a href="#md:development-quick-start">Development (Quick Start)</a></li>
<li><a href="#md:production">Production</a></li>
<li><a href="#md:multiple-providers">Multiple Providers</a></li>
<li><a href="#md:environment-variables">Environment Variables</a></li>
</ul>
</li>
<li><a href="#md:api-reference">API Reference</a><ul>
<li><a href="#md:agentos-class">AgentOS Class</a></li>
<li><a href="#md:iagentos-interface">IAgentOS Interface</a></li>
<li><a href="#md:agentosinput">AgentOSInput</a></li>
<li><a href="#md:agentosresponse-streaming">AgentOSResponse Streaming</a></li>
<li><a href="#md:itool-interface">ITool Interface</a></li>
<li><a href="#md:extensiondescriptor">ExtensionDescriptor</a></li>
<li><a href="#md:iguardrailservice">IGuardrailService</a></li>
<li><a href="#md:ihumaninteractionmanager">IHumanInteractionManager</a></li>
</ul>
</li>
<li><a href="#md:usage-examples">Usage Examples</a><ul>
<li><a href="#md:streaming-chat">Streaming Chat</a></li>
<li><a href="#md:adding-tools">Adding Tools</a></li>
<li><a href="#md:multi-agent-collaboration">Multi-Agent Collaboration</a></li>
<li><a href="#md:human-in-the-loop-approvals">Human-in-the-Loop Approvals</a></li>
<li><a href="#md:structured-data-extraction">Structured Data Extraction</a></li>
<li><a href="#md:rag-memory">RAG Memory</a></li>
<li><a href="#md:custom-guardrails">Custom Guardrails</a></li>
<li><a href="#md:channel-adapters">Channel Adapters</a></li>
<li><a href="#md:voice-calls">Voice Calls</a></li>
</ul>
</li>
<li><a href="#md:package-exports">Package Exports</a></li>
<li><a href="#md:internal-documentation">Internal Documentation</a></li>
<li><a href="#md:contributing">Contributing</a></li>
<li><a href="#md:license">License</a></li>
</ul>
<hr>
<a id="md:overview" class="tsd-anchor"></a><h2><a href="#md:overview">Overview</a></h2><p><code>@framers/agentos</code> is a TypeScript-first AI agent orchestration library that provides a complete runtime for building, deploying, and managing adaptive AI agents. It handles the full lifecycle from prompt construction through tool execution, safety evaluation, and streaming response delivery.</p>
<p><strong>Key facts:</strong></p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>Package</td>
<td><code>@framers/agentos</code></td>
</tr>
<tr>
<td>Version</td>
<td><code>0.1.32</code></td>
</tr>
<tr>
<td>Language</td>
<td>TypeScript 5.4+ / Node.js 18+</td>
</tr>
<tr>
<td>Source files</td>
<td>260+ TypeScript files across 25 top-level directories</td>
</tr>
<tr>
<td>Export paths</td>
<td>112 package.json export entries</td>
</tr>
<tr>
<td>License</td>
<td>Apache 2.0</td>
</tr>
</tbody></table>
<p><strong>Runtime dependencies:</strong></p>
<table>
<thead>
<tr>
<th>Dependency</th>
<th>Purpose</th>
</tr>
</thead>
<tbody><tr>
<td><code>@opentelemetry/api</code></td>
<td>Distributed tracing and metrics</td>
</tr>
<tr>
<td><code>ajv</code> + <code>ajv-formats</code></td>
<td>JSON Schema validation for tool I/O</td>
</tr>
<tr>
<td><code>axios</code></td>
<td>HTTP client for LLM provider APIs</td>
</tr>
<tr>
<td><code>lru-cache</code></td>
<td>High-performance caching (dedup, embeddings, cost tracking)</td>
</tr>
<tr>
<td><code>natural</code></td>
<td>NLP utilities (tokenization, stemming, sentiment)</td>
</tr>
<tr>
<td><code>pino</code></td>
<td>Structured JSON logging</td>
</tr>
<tr>
<td><code>uuid</code></td>
<td>Unique identifier generation</td>
</tr>
<tr>
<td><code>yaml</code></td>
<td>YAML config parsing (agent configs, skill definitions)</td>
</tr>
</tbody></table>
<p><strong>Optional peer dependencies:</strong></p>
<table>
<thead>
<tr>
<th>Peer Dependency</th>
<th>Purpose</th>
</tr>
</thead>
<tbody><tr>
<td><code>@framers/sql-storage-adapter</code></td>
<td>SQL-backed vector store and persistence</td>
</tr>
<tr>
<td><code>graphology</code> + <code>graphology-communities-louvain</code></td>
<td>GraphRAG community detection</td>
</tr>
<tr>
<td><code>hnswlib-node</code></td>
<td>HNSW-based approximate nearest neighbor search</td>
</tr>
<tr>
<td><code>neo4j-driver</code></td>
<td>Neo4j-backed vector + GraphRAG persistence</td>
</tr>
</tbody></table>
<hr>
<a id="md:quick-start" class="tsd-anchor"></a><h2><a href="#md:quick-start">Quick Start</a></h2><pre><code class="language-bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">@framers/agentos</span>
</code><button>Copy</button></pre>
<p><strong>Requirements:</strong> Node.js 18+ and TypeScript 5.0+</p>
<a id="md:minimal-example" class="tsd-anchor"></a><h3><a href="#md:minimal-example">Minimal Example</a></h3><pre><code class="language-typescript"><span class="hl-3">import</span><span class="hl-1"> { AgentOS, AgentOSResponseChunkType } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { createTestAgentOSConfig } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos/config/AgentOSConfig&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">agent</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">AgentOS</span><span class="hl-1">();</span><br/><span class="hl-3">await</span><span class="hl-1"> agent.</span><span class="hl-0">initialize</span><span class="hl-1">(</span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">createTestAgentOSConfig</span><span class="hl-1">());</span><br/><br/><span class="hl-3">for</span><span class="hl-1"> </span><span class="hl-3">await</span><span class="hl-1"> (</span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">chunk</span><span class="hl-1"> </span><span class="hl-3">of</span><span class="hl-1"> agent.</span><span class="hl-0">processRequest</span><span class="hl-1">({</span><br/><span class="hl-1">  userId: </span><span class="hl-2">&#39;user-1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  sessionId: </span><span class="hl-2">&#39;session-1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  textInput: </span><span class="hl-2">&#39;Explain how TCP handshakes work&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">})) {</span><br/><span class="hl-1">  </span><span class="hl-3">if</span><span class="hl-1"> (chunk.type </span><span class="hl-3">===</span><span class="hl-1"> AgentOSResponseChunkType.</span><span class="hl-4">TEXT_DELTA</span><span class="hl-1">) {</span><br/><span class="hl-1">    process.stdout.</span><span class="hl-0">write</span><span class="hl-1">(chunk.textDelta);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<hr>
<a id="md:system-architecture" class="tsd-anchor"></a><h2><a href="#md:system-architecture">System Architecture</a></h2><a id="md:architecture-diagram" class="tsd-anchor"></a><h3><a href="#md:architecture-diagram">Architecture Diagram</a></h3><pre><code><span class="hl-3">+===================================================================+</span><br/><span class="hl-3">|</span><span class="hl-1">                       AgentOS Runtime                              </span><span class="hl-3">|</span><br/><span class="hl-3">+===================================================================+</span><br/><span class="hl-3">|</span><span class="hl-1">                                                                    </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">+---------------------+</span><span class="hl-1">     </span><span class="hl-3">+----------------------+</span><span class="hl-1">              </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">    </span><span class="hl-0">AgentOS</span><span class="hl-1"> (</span><span class="hl-4">API</span><span class="hl-1">)    </span><span class="hl-3">|----&gt;|</span><span class="hl-1"> AgentOSOrchestrator  </span><span class="hl-3">|</span><span class="hl-1">              </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">  (Service Facade)   </span><span class="hl-3">|</span><span class="hl-1">     </span><span class="hl-3">|</span><span class="hl-1">  (Delegation Hub)    </span><span class="hl-3">|</span><span class="hl-1">              </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">+---------------------+</span><span class="hl-1">     </span><span class="hl-3">+----------+-----------+</span><span class="hl-1">              </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">           </span><span class="hl-3">|</span><span class="hl-1">                              </span><span class="hl-3">|</span><span class="hl-1">                         </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">           v                              v                         </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">+------------------+</span><span class="hl-1">          </span><span class="hl-3">+-------------------+</span><span class="hl-1">               </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> StreamingManager </span><span class="hl-3">|</span><span class="hl-1">          </span><span class="hl-3">|</span><span class="hl-1">   PromptEngine    </span><span class="hl-3">|</span><span class="hl-1">               </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> (Async Gen Mgmt) </span><span class="hl-3">|</span><span class="hl-1">          </span><span class="hl-3">|</span><span class="hl-1"> (Dynamic Prompts) </span><span class="hl-3">|</span><span class="hl-1">               </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">+------------------+</span><span class="hl-1">          </span><span class="hl-3">+-------------------+</span><span class="hl-1">               </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">           </span><span class="hl-3">|</span><span class="hl-1">                              </span><span class="hl-3">|</span><span class="hl-1">                         </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">           </span><span class="hl-3">+----------+-------------------+</span><span class="hl-1">                         </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">                      </span><span class="hl-3">|</span><span class="hl-1">                                             </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">                      v                                             </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">+=========================================================+</span><span class="hl-1">      </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">                  </span><span class="hl-4">GMI</span><span class="hl-1"> Manager                             </span><span class="hl-3">|</span><span class="hl-1">      </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">  (Generalized Modular Intelligence Lifecycle)            </span><span class="hl-3">|</span><span class="hl-1">      </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">                                                          </span><span class="hl-3">|</span><span class="hl-1">      </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">+-----------+</span><span class="hl-1">  </span><span class="hl-3">+-----------+</span><span class="hl-1">  </span><span class="hl-3">+-----------+</span><span class="hl-1">  </span><span class="hl-3">+-------+</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">      </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> Working   </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">  Context  </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">  Persona  </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">Learning</span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-3">|</span><span class="hl-1">      </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> Memory    </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">  Manager  </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">  Overlay  </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> Module </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-3">|</span><span class="hl-1">      </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">+-----------+</span><span class="hl-1">  </span><span class="hl-3">+-----------+</span><span class="hl-1">  </span><span class="hl-3">+-----------+</span><span class="hl-1">  </span><span class="hl-3">+-------+</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">      </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">                                                          </span><span class="hl-3">|</span><span class="hl-1">      </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">+-----------+</span><span class="hl-1">  </span><span class="hl-3">+-----------+</span><span class="hl-1">  </span><span class="hl-3">+-----------+</span><span class="hl-1">             </span><span class="hl-3">|</span><span class="hl-1">      </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> Episodic  </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> Semantic  </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">Procedural </span><span class="hl-3">|</span><span class="hl-1">             </span><span class="hl-3">|</span><span class="hl-1">      </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> Memory    </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">  Memory   </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">  Memory   </span><span class="hl-3">|</span><span class="hl-1">             </span><span class="hl-3">|</span><span class="hl-1">      </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">+-----------+</span><span class="hl-1">  </span><span class="hl-3">+-----------+</span><span class="hl-1">  </span><span class="hl-3">+-----------+</span><span class="hl-1">             </span><span class="hl-3">|</span><span class="hl-1">      </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">+=========================================================+</span><span class="hl-1">      </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">           </span><span class="hl-3">|</span><span class="hl-1">              </span><span class="hl-3">|</span><span class="hl-1">              </span><span class="hl-3">|</span><span class="hl-1">                          </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">           v              v              v                          </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">+--------------+</span><span class="hl-1">  </span><span class="hl-3">+----------+</span><span class="hl-1">  </span><span class="hl-3">+--------------+</span><span class="hl-1">  </span><span class="hl-3">+-----------+</span><span class="hl-1">  </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">    Tool      </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">   </span><span class="hl-4">RAG</span><span class="hl-1">    </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">   Planning   </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> Workflow  </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> Orchestrator </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">  Memory  </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">    Engine     </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">  Engine   </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">+--------------+</span><span class="hl-1">  </span><span class="hl-3">+----------+</span><span class="hl-1">  </span><span class="hl-3">+--------------+</span><span class="hl-1">  </span><span class="hl-3">+-----------+</span><span class="hl-1">  </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">      </span><span class="hl-3">|</span><span class="hl-1">    </span><span class="hl-3">|</span><span class="hl-1">             </span><span class="hl-3">|</span><span class="hl-1">              </span><span class="hl-3">|</span><span class="hl-1">                           </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">      </span><span class="hl-3">|</span><span class="hl-1">    </span><span class="hl-3">|</span><span class="hl-1">             v              v                           </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">      </span><span class="hl-3">|</span><span class="hl-1">    </span><span class="hl-3">|</span><span class="hl-1">       </span><span class="hl-3">+-----------+</span><span class="hl-1">  </span><span class="hl-3">+-----------+</span><span class="hl-1">                    </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">      </span><span class="hl-3">|</span><span class="hl-1">    </span><span class="hl-3">|</span><span class="hl-1">       </span><span class="hl-3">|</span><span class="hl-1"> Embedding </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">   ReAct    </span><span class="hl-3">|</span><span class="hl-1">                   </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">      </span><span class="hl-3">|</span><span class="hl-1">    </span><span class="hl-3">|</span><span class="hl-1">       </span><span class="hl-3">|</span><span class="hl-1">  Manager  </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">  Reasoner  </span><span class="hl-3">|</span><span class="hl-1">                   </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">      </span><span class="hl-3">|</span><span class="hl-1">    </span><span class="hl-3">|</span><span class="hl-1">       </span><span class="hl-3">+-----------+</span><span class="hl-1">  </span><span class="hl-3">+-----------+</span><span class="hl-1">                    </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">      </span><span class="hl-3">|</span><span class="hl-1">    </span><span class="hl-3">|</span><span class="hl-1">             </span><span class="hl-3">|</span><span class="hl-1">                                          </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">      v    v             v                                          </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">+=========================================================+</span><span class="hl-1">      </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">            </span><span class="hl-4">LLM</span><span class="hl-1"> Provider Manager                          </span><span class="hl-3">|</span><span class="hl-1">      </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">                                                          </span><span class="hl-3">|</span><span class="hl-1">      </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">   </span><span class="hl-3">+--------+</span><span class="hl-1"> </span><span class="hl-3">+----------+</span><span class="hl-1"> </span><span class="hl-3">+-------+</span><span class="hl-1"> </span><span class="hl-3">+--------+</span><span class="hl-1"> </span><span class="hl-3">+------+</span><span class="hl-1"> </span><span class="hl-3">|</span><span class="hl-1">      </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">   </span><span class="hl-3">|</span><span class="hl-1"> OpenAI </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-3">|</span><span class="hl-1">Anthropic </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-3">|</span><span class="hl-1"> Azure </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-3">|</span><span class="hl-1"> Ollama </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-3">|</span><span class="hl-1">OpenR.</span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-3">|</span><span class="hl-1">      </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">   </span><span class="hl-3">+--------+</span><span class="hl-1"> </span><span class="hl-3">+----------+</span><span class="hl-1"> </span><span class="hl-3">+-------+</span><span class="hl-1"> </span><span class="hl-3">+--------+</span><span class="hl-1"> </span><span class="hl-3">+------+</span><span class="hl-1"> </span><span class="hl-3">|</span><span class="hl-1">      </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">+=========================================================+</span><span class="hl-1">      </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">                                                                    </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">+---------+</span><span class="hl-1">  </span><span class="hl-3">+----------+</span><span class="hl-1">  </span><span class="hl-3">+----------+</span><span class="hl-1">  </span><span class="hl-3">+-----------+</span><span class="hl-1">            </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">Guardrail</span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> Circuit  </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">   Cost   </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">   Stuck   </span><span class="hl-3">|</span><span class="hl-1">           </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> Service </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> Breaker  </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">  Guard   </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> Detector  </span><span class="hl-3">|</span><span class="hl-1">           </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">+---------+</span><span class="hl-1">  </span><span class="hl-3">+----------+</span><span class="hl-1">  </span><span class="hl-3">+----------+</span><span class="hl-1">  </span><span class="hl-3">+-----------+</span><span class="hl-1">            </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">                                                                    </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">+-------------------+</span><span class="hl-1">  </span><span class="hl-3">+-------------------+</span><span class="hl-1">  </span><span class="hl-3">+----------------+</span><span class="hl-1">  </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> Extension Manager </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> Channel Router    </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> Call Manager   </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> (</span><span class="hl-4">12</span><span class="hl-3">+</span><span class="hl-1"> kinds)       </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> (</span><span class="hl-4">28</span><span class="hl-1"> platforms)    </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> (Voice</span><span class="hl-3">/</span><span class="hl-1">Tel.)   </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">+-------------------+</span><span class="hl-1">  </span><span class="hl-3">+-------------------+</span><span class="hl-1">  </span><span class="hl-3">+----------------+</span><span class="hl-1">  </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">                                                                    </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">+-------------------+</span><span class="hl-1">  </span><span class="hl-3">+-------------------+</span><span class="hl-1">  </span><span class="hl-3">+----------------+</span><span class="hl-1">  </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">  Observability    </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">   </span><span class="hl-4">HITL</span><span class="hl-1"> Manager    </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> Skill Registry </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">  (OpenTelemetry)  </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> (Approval</span><span class="hl-3">/</span><span class="hl-1">Escal.) </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> (</span><span class="hl-4">SKILL</span><span class="hl-1">.md)     </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">+-------------------+</span><span class="hl-1">  </span><span class="hl-3">+-------------------+</span><span class="hl-1">  </span><span class="hl-3">+----------------+</span><span class="hl-1">  </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">                                                                    </span><span class="hl-3">|</span><br/><span class="hl-3">+====================================================================+</span>
</code><button>Copy</button></pre>
<a id="md:request-lifecycle" class="tsd-anchor"></a><h3><a href="#md:request-lifecycle">Request Lifecycle</a></h3><p>A single <code>processRequest()</code> call flows through these stages:</p>
<pre><code><span class="hl-1">User </span><span class="hl-0">Input</span><span class="hl-1"> (AgentOSInput)</span><br/><span class="hl-1">    </span><span class="hl-3">|</span><br/><span class="hl-1">    v</span><br/><span class="hl-1">[</span><span class="hl-4">1</span><span class="hl-1">] Input Guardrails </span><span class="hl-3">----</span><span class="hl-1"> </span><span class="hl-0">evaluateInput</span><span class="hl-1">() </span><span class="hl-3">----&gt;</span><span class="hl-1"> </span><span class="hl-4">BLOCK</span><span class="hl-1"> </span><span class="hl-3">/</span><span class="hl-1"> </span><span class="hl-4">SANITIZE</span><span class="hl-1"> </span><span class="hl-3">/</span><span class="hl-1"> </span><span class="hl-4">ALLOW</span><br/><span class="hl-1">    </span><span class="hl-3">|</span><br/><span class="hl-1">    v</span><br/><span class="hl-1">[</span><span class="hl-4">2</span><span class="hl-1">] Context Assembly </span><span class="hl-3">-----</span><span class="hl-1"> ConversationManager </span><span class="hl-3">+</span><span class="hl-1"> </span><span class="hl-4">RAG</span><span class="hl-1"> retrieval</span><br/><span class="hl-1">    </span><span class="hl-3">|</span><br/><span class="hl-1">    v</span><br/><span class="hl-1">[</span><span class="hl-4">3</span><span class="hl-1">] Prompt Construction </span><span class="hl-3">--</span><span class="hl-1"> PromptEngine builds system </span><span class="hl-3">+</span><span class="hl-1"> contextual elements</span><br/><span class="hl-1">    </span><span class="hl-3">|</span><br/><span class="hl-1">    v</span><br/><span class="hl-1">[</span><span class="hl-4">4</span><span class="hl-1">] </span><span class="hl-4">GMI</span><span class="hl-1"> Processing </span><span class="hl-3">-------</span><span class="hl-1"> Working memory, persona overlay, adaptation</span><br/><span class="hl-1">    </span><span class="hl-3">|</span><br/><span class="hl-1">    v</span><br/><span class="hl-1">[</span><span class="hl-4">5</span><span class="hl-1">] </span><span class="hl-4">LLM</span><span class="hl-1"> Call </span><span class="hl-3">-------------</span><span class="hl-1"> AIModelProviderManager dispatches to provider</span><br/><span class="hl-1">    </span><span class="hl-3">|</span><span class="hl-1">                      (with circuit breaker </span><span class="hl-3">+</span><span class="hl-1"> cost guard)</span><br/><span class="hl-1">    v</span><br/><span class="hl-1">[</span><span class="hl-4">6</span><span class="hl-1">] Tool Execution</span><span class="hl-3">?</span><span class="hl-1"> </span><span class="hl-3">------</span><span class="hl-1"> ToolOrchestrator validates, executes, loops back to [</span><span class="hl-4">5</span><span class="hl-1">]</span><br/><span class="hl-1">    </span><span class="hl-3">|</span><span class="hl-1">                      (with ToolExecutionGuard </span><span class="hl-3">+</span><span class="hl-1"> permission checks)</span><br/><span class="hl-1">    v</span><br/><span class="hl-1">[</span><span class="hl-4">7</span><span class="hl-1">] Output Guardrails </span><span class="hl-3">----</span><span class="hl-1"> </span><span class="hl-0">evaluateOutput</span><span class="hl-1">() </span><span class="hl-3">----&gt;</span><span class="hl-1"> </span><span class="hl-4">BLOCK</span><span class="hl-1"> </span><span class="hl-3">/</span><span class="hl-1"> </span><span class="hl-4">SANITIZE</span><span class="hl-1"> </span><span class="hl-3">/</span><span class="hl-1"> </span><span class="hl-4">ALLOW</span><br/><span class="hl-1">    </span><span class="hl-3">|</span><br/><span class="hl-1">    v</span><br/><span class="hl-1">[</span><span class="hl-4">8</span><span class="hl-1">] Streaming Response </span><span class="hl-3">---</span><span class="hl-1"> AsyncGenerator</span><span class="hl-3">&lt;</span><span class="hl-1">AgentOSResponse</span><span class="hl-3">&gt;</span><span class="hl-1"> yields chunks</span><br/><span class="hl-1">    </span><span class="hl-3">|</span><br/><span class="hl-1">    v</span><br/><span class="hl-1">[</span><span class="hl-4">9</span><span class="hl-1">] Post</span><span class="hl-3">-</span><span class="hl-1">Processing </span><span class="hl-3">------</span><span class="hl-1"> Memory persistence, cost aggregation, telemetry</span>
</code><button>Copy</button></pre>
<a id="md:layer-breakdown" class="tsd-anchor"></a><h3><a href="#md:layer-breakdown">Layer Breakdown</a></h3><p>AgentOS is organized into six architectural layers:</p>
<table>
<thead>
<tr>
<th>Layer</th>
<th>Directory</th>
<th>Purpose</th>
</tr>
</thead>
<tbody><tr>
<td><strong>API</strong></td>
<td><code>src/api/</code></td>
<td>Public-facing facade, input/output types, orchestrator</td>
</tr>
<tr>
<td><strong>Cognitive</strong></td>
<td><code>src/cognitive_substrate/</code></td>
<td>GMI instances, persona overlays, multi-layer memory</td>
</tr>
<tr>
<td><strong>Core</strong></td>
<td><code>src/core/</code></td>
<td>28 subdirectories: LLM, tools, safety, guardrails, planning, workflows, HITL, observability, etc.</td>
</tr>
<tr>
<td><strong>Integration</strong></td>
<td><code>src/channels/</code>, <code>src/voice/</code>, <code>src/extensions/</code></td>
<td>External platform adapters, telephony, plugin system</td>
</tr>
<tr>
<td><strong>Intelligence</strong></td>
<td><code>src/rag/</code>, <code>src/skills/</code></td>
<td>RAG pipeline, GraphRAG, skill loading</td>
</tr>
<tr>
<td><strong>Infrastructure</strong></td>
<td><code>src/config/</code>, <code>src/logging/</code>, <code>src/utils/</code>, <code>src/types/</code></td>
<td>Configuration, structured logging, shared utilities</td>
</tr>
</tbody></table>
<hr>
<a id="md:core-modules" class="tsd-anchor"></a><h2><a href="#md:core-modules">Core Modules</a></h2><a id="md:api-layer" class="tsd-anchor"></a><h3><a href="#md:api-layer">API Layer</a></h3><p><strong>Location:</strong> <code>src/api/</code></p>
<p>The API layer is the primary entry point for all interactions with AgentOS.</p>
<table>
<thead>
<tr>
<th>File</th>
<th>Role</th>
</tr>
</thead>
<tbody><tr>
<td><code>AgentOS.ts</code></td>
<td>Main service facade (1000+ lines). Implements <code>IAgentOS</code>. Initializes all subsystems and delegates to the orchestrator.</td>
</tr>
<tr>
<td><code>AgentOSOrchestrator.ts</code></td>
<td>Delegation hub. Coordinates GMI processing, tool execution, guardrail evaluation, and streaming assembly. Streaming-first design using async generators.</td>
</tr>
<tr>
<td><code>interfaces/IAgentOS.ts</code></td>
<td>Core contract defining <code>initialize()</code>, <code>processRequest()</code>, <code>handleToolResult()</code>, workflow management, persona listing, and conversation history retrieval.</td>
</tr>
<tr>
<td><code>types/AgentOSInput.ts</code></td>
<td>Unified input structure: text, vision, audio, persona selection, user API keys, feedback, workflow/agency invocations, and processing options.</td>
</tr>
<tr>
<td><code>types/AgentOSResponse.ts</code></td>
<td>Streaming output: 11 chunk types covering text deltas, tool calls, progress, errors, workflows, agency updates, and provenance events.</td>
</tr>
</tbody></table>
<p><strong>Response chunk types:</strong></p>
<pre><code class="language-typescript"><span class="hl-3">enum</span><span class="hl-1"> </span><span class="hl-0">AgentOSResponseChunkType</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">TEXT_DELTA</span><span class="hl-1">           </span><span class="hl-5">// Incremental text tokens</span><br/><span class="hl-1">  </span><span class="hl-4">SYSTEM_PROGRESS</span><span class="hl-1">      </span><span class="hl-5">// Internal processing updates</span><br/><span class="hl-1">  </span><span class="hl-4">TOOL_CALL_REQUEST</span><span class="hl-1">    </span><span class="hl-5">// Agent requests tool execution</span><br/><span class="hl-1">  </span><span class="hl-4">TOOL_RESULT_EMISSION</span><span class="hl-1"> </span><span class="hl-5">// Tool execution result</span><br/><span class="hl-1">  </span><span class="hl-4">UI_COMMAND</span><span class="hl-1">           </span><span class="hl-5">// Client-side UI directives</span><br/><span class="hl-1">  </span><span class="hl-4">FINAL_RESPONSE</span><span class="hl-1">       </span><span class="hl-5">// Aggregated final response</span><br/><span class="hl-1">  </span><span class="hl-4">ERROR</span><span class="hl-1">                </span><span class="hl-5">// Error information</span><br/><span class="hl-1">  </span><span class="hl-4">METADATA_UPDATE</span><span class="hl-1">      </span><span class="hl-5">// Session/context metadata changes</span><br/><span class="hl-1">  </span><span class="hl-4">WORKFLOW_UPDATE</span><span class="hl-1">      </span><span class="hl-5">// Workflow progress notifications</span><br/><span class="hl-1">  </span><span class="hl-4">AGENCY_UPDATE</span><span class="hl-1">        </span><span class="hl-5">// Multi-agent coordination events</span><br/><span class="hl-1">  </span><span class="hl-4">PROVENANCE_EVENT</span><span class="hl-1">     </span><span class="hl-5">// Immutability/audit trail events</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<hr>
<a id="md:cognitive-substrate-gmi" class="tsd-anchor"></a><h3><a href="#md:cognitive-substrate-gmi">Cognitive Substrate (GMI)</a></h3><p><strong>Location:</strong> <code>src/cognitive_substrate/</code></p>
<p>The Generalized Modular Intelligence (GMI) is the core agent instance -- the &quot;brain&quot; of each agent. A single AgentOS runtime can manage multiple GMI instances via <code>GMIManager</code>.</p>
<pre><code><span class="hl-3">+================================================================+</span><br/><span class="hl-3">|</span><span class="hl-1">                         </span><span class="hl-4">GMI</span><span class="hl-1"> Instance                            </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">                                                                 </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">+-------------------+</span><span class="hl-1">     </span><span class="hl-3">+----------------------------+</span><span class="hl-1">       </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> PersonaOverlay    </span><span class="hl-3">|</span><span class="hl-1">     </span><span class="hl-3">|</span><span class="hl-1">       Context Manager      </span><span class="hl-3">|</span><span class="hl-1">       </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> Manager           </span><span class="hl-3">|</span><span class="hl-1">     </span><span class="hl-3">|</span><span class="hl-1"> (Dynamic prompt elements,  </span><span class="hl-3">|</span><span class="hl-1">       </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> (Personality      </span><span class="hl-3">|</span><span class="hl-1">     </span><span class="hl-3">|</span><span class="hl-1">  user context, session)    </span><span class="hl-3">|</span><span class="hl-1">       </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">  switching)       </span><span class="hl-3">|</span><span class="hl-1">     </span><span class="hl-3">+----------------------------+</span><span class="hl-1">       </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">+-------------------+</span><span class="hl-1">                                          </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">                                                                 </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">+-------------------+</span><span class="hl-1">     </span><span class="hl-3">+----------------------------+</span><span class="hl-1">       </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> Working Memory    </span><span class="hl-3">|</span><span class="hl-1">     </span><span class="hl-3">|</span><span class="hl-1">    Adaptation Manager      </span><span class="hl-3">|</span><span class="hl-1">       </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> (Current session  </span><span class="hl-3">|</span><span class="hl-1">     </span><span class="hl-3">|</span><span class="hl-1"> (Learning rate, style      </span><span class="hl-3">|</span><span class="hl-1">       </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">  state, tool ctx) </span><span class="hl-3">|</span><span class="hl-1">     </span><span class="hl-3">|</span><span class="hl-1">  drift, tone adaptation)   </span><span class="hl-3">|</span><span class="hl-1">       </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">+-------------------+</span><span class="hl-1">     </span><span class="hl-3">+----------------------------+</span><span class="hl-1">       </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">                                                                 </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">+-----------------------------------------------------------+</span><span class="hl-1"> </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">                  Multi</span><span class="hl-3">-</span><span class="hl-1">Layer Memory                        </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">+----------+</span><span class="hl-1">  </span><span class="hl-3">+----------+</span><span class="hl-1">  </span><span class="hl-3">+-----------+</span><span class="hl-1">  </span><span class="hl-3">+-----------+</span><span class="hl-1"> </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> Episodic </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> Semantic </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> Procedural</span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> Long</span><span class="hl-3">-</span><span class="hl-1">Term </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> (Events) </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> (Facts)  </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> (Skills)  </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> (Archive) </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">+----------+</span><span class="hl-1">  </span><span class="hl-3">+----------+</span><span class="hl-1">  </span><span class="hl-3">+-----------+</span><span class="hl-1">  </span><span class="hl-3">+-----------+</span><span class="hl-1"> </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">+-----------------------------------------------------------+</span><span class="hl-1"> </span><span class="hl-3">|</span><br/><span class="hl-3">+================================================================+</span>
</code><button>Copy</button></pre>
<p><strong>Key components:</strong></p>
<ul>
<li><strong>GMI.ts</strong> -- Core agent instance (2000+ lines). Manages the complete cognitive loop: context assembly, prompt construction, LLM invocation, tool handling, and response generation.</li>
<li><strong>GMIManager.ts</strong> -- Lifecycle manager for multiple GMI instances. Handles creation, pooling, configuration, and teardown.</li>
<li><strong>IGMI.ts</strong> -- Interface contract for GMI implementations.</li>
<li><strong>PersonaOverlayManager</strong> -- Enables dynamic personality switching at runtime. Ships with 5+ built-in personas:<ul>
<li><code>Researcher</code> -- Analytical, citation-heavy responses</li>
<li><code>Generalist</code> -- Balanced, conversational</li>
<li><code>Atlas</code> -- Navigation and spatial reasoning</li>
<li><code>Default Assistant</code> -- General-purpose helpful assistant</li>
</ul>
</li>
<li><strong>Memory subsystem</strong> (<code>memory/</code>) -- Four-layer memory architecture:<ul>
<li><strong>Working memory</strong> -- Current session state, active tool context, conversation buffer</li>
<li><strong>Episodic memory</strong> -- Timestamped events and interactions</li>
<li><strong>Semantic memory</strong> -- Extracted facts, entity relationships, domain knowledge</li>
<li><strong>Procedural memory</strong> -- Learned skills, patterns, and execution strategies</li>
</ul>
</li>
</ul>
<hr>
<a id="md:llm-provider-management" class="tsd-anchor"></a><h3><a href="#md:llm-provider-management">LLM Provider Management</a></h3><p><strong>Location:</strong> <code>src/core/llm/</code></p>
<p>The LLM layer abstracts multiple AI model providers behind a unified interface.</p>
<pre><code><span class="hl-3">+-----------------------------------------------------------+</span><br/><span class="hl-3">|</span><span class="hl-1">              AIModelProviderManager                         </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  (Provider registry, routing, fallback, model switching)   </span><span class="hl-3">|</span><br/><span class="hl-3">+-----------------------------------------------------------+</span><br/><span class="hl-1">        </span><span class="hl-3">|</span><span class="hl-1">              </span><span class="hl-3">|</span><span class="hl-1">              </span><span class="hl-3">|</span><span class="hl-1">              </span><span class="hl-3">|</span><br/><span class="hl-1">        v              v              v              v</span><br/><span class="hl-3">+----------+</span><span class="hl-1">   </span><span class="hl-3">+----------+</span><span class="hl-1">   </span><span class="hl-3">+----------+</span><span class="hl-1">   </span><span class="hl-3">+----------+</span><br/><span class="hl-3">|</span><span class="hl-1">  OpenAI  </span><span class="hl-3">|</span><span class="hl-1">   </span><span class="hl-3">|</span><span class="hl-1">  Ollama  </span><span class="hl-3">|</span><span class="hl-1">   </span><span class="hl-3">|</span><span class="hl-1"> OpenRouter</span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> (Custom) </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1"> Provider </span><span class="hl-3">|</span><span class="hl-1">   </span><span class="hl-3">|</span><span class="hl-1"> Provider </span><span class="hl-3">|</span><span class="hl-1">   </span><span class="hl-3">|</span><span class="hl-1"> Provider  </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> Provider </span><span class="hl-3">|</span><br/><span class="hl-3">+----------+</span><span class="hl-1">   </span><span class="hl-3">+----------+</span><span class="hl-1">   </span><span class="hl-3">+----------+</span><span class="hl-1">   </span><span class="hl-3">+----------+</span><br/><span class="hl-1">    </span><span class="hl-3">|</span><span class="hl-1">                </span><span class="hl-3">|</span><span class="hl-1">              </span><span class="hl-3">|</span><br/><span class="hl-1">    v                v              v</span><br/><span class="hl-1"> gpt</span><span class="hl-3">-</span><span class="hl-1">4o         llama3.</span><span class="hl-4">2</span><span class="hl-1">      claude</span><span class="hl-3">-</span><span class="hl-4">3.5</span><br/><span class="hl-1"> gpt</span><span class="hl-3">-</span><span class="hl-1">4o</span><span class="hl-3">-</span><span class="hl-1">mini    mistral       gemini</span><span class="hl-3">-</span><span class="hl-1">pro</span><br/><span class="hl-1"> o1</span><span class="hl-3">-</span><span class="hl-1">preview     codellama     command</span><span class="hl-3">-</span><span class="hl-1">r</span><span class="hl-3">+</span>
</code><button>Copy</button></pre>
<p><strong>Provider implementations:</strong></p>
<table>
<thead>
<tr>
<th>Provider</th>
<th>File</th>
<th>Models</th>
</tr>
</thead>
<tbody><tr>
<td>OpenAI</td>
<td><code>providers/implementations/OpenAIProvider.ts</code></td>
<td>GPT-4o, GPT-4o-mini, o1, o3, etc.</td>
</tr>
<tr>
<td>Ollama</td>
<td><code>providers/implementations/OllamaProvider.ts</code></td>
<td>Any locally-hosted model (Llama, Mistral, etc.)</td>
</tr>
<tr>
<td>OpenRouter</td>
<td><code>providers/implementations/OpenRouterProvider.ts</code></td>
<td>100+ models from any provider via unified API</td>
</tr>
</tbody></table>
<p><strong>Additional components:</strong></p>
<ul>
<li><strong>PromptEngine</strong> (<code>PromptEngine.ts</code>) -- Constructs prompts from system instructions, contextual elements, persona definitions, and dynamic user context. Supports template interpolation and conditional element inclusion.</li>
<li><strong>IProvider</strong> (<code>providers/IProvider.ts</code>) -- Interface contract for adding custom LLM providers.</li>
<li><strong>Streaming adapters</strong> -- All providers support token-level streaming via async generators with backpressure control.</li>
</ul>
<p><strong>Per-request model override:</strong></p>
<pre><code class="language-typescript"><span class="hl-3">for</span><span class="hl-1"> </span><span class="hl-3">await</span><span class="hl-1"> (</span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">chunk</span><span class="hl-1"> </span><span class="hl-3">of</span><span class="hl-1"> agent.</span><span class="hl-0">processRequest</span><span class="hl-1">({</span><br/><span class="hl-1">  userId: </span><span class="hl-2">&#39;user-1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  sessionId: </span><span class="hl-2">&#39;session-1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  textInput: </span><span class="hl-2">&#39;Summarize this document&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  options: {</span><br/><span class="hl-1">    preferredProviderId: </span><span class="hl-2">&#39;anthropic&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    preferredModelId: </span><span class="hl-2">&#39;claude-sonnet-4-5-20250929&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">})) { </span><span class="hl-5">/* ... */</span><span class="hl-1"> }</span>
</code><button>Copy</button></pre>
<hr>
<a id="md:tool-system" class="tsd-anchor"></a><h3><a href="#md:tool-system">Tool System</a></h3><p><strong>Location:</strong> <code>src/core/tools/</code></p>
<p>Tools are the primary mechanism for agents to interact with the outside world. Every tool implements the <code>ITool</code> interface.</p>
<pre><code><span class="hl-3">+-----------------------------------------------------------+</span><br/><span class="hl-3">|</span><span class="hl-1">                    ToolOrchestrator                         </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  (Discovery, selection, validation, execution pipeline)    </span><span class="hl-3">|</span><br/><span class="hl-3">+-----------------------------------------------------------+</span><br/><span class="hl-1">        </span><span class="hl-3">|</span><span class="hl-1">                </span><span class="hl-3">|</span><span class="hl-1">                </span><span class="hl-3">|</span><br/><span class="hl-1">        v                v                v</span><br/><span class="hl-3">+---------------+</span><span class="hl-1"> </span><span class="hl-3">+---------------+</span><span class="hl-1"> </span><span class="hl-3">+-------------------+</span><br/><span class="hl-3">|</span><span class="hl-1"> ToolExecutor  </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-3">|</span><span class="hl-1"> ToolPermission</span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-3">|</span><span class="hl-1"> ToolExecution     </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1"> (Validation,  </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-3">|</span><span class="hl-1"> Manager       </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-3">|</span><span class="hl-1"> Guard             </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  invocation,  </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-3">|</span><span class="hl-1"> (</span><span class="hl-4">RBAC</span><span class="hl-1">, per</span><span class="hl-3">-</span><span class="hl-1">   </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-3">|</span><span class="hl-1"> (Timeout 30s,     </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  result wrap) </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-3">|</span><span class="hl-1">  user access) </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-3">|</span><span class="hl-1">  circuit breaker)  </span><span class="hl-3">|</span><br/><span class="hl-3">+---------------+</span><span class="hl-1"> </span><span class="hl-3">+---------------+</span><span class="hl-1"> </span><span class="hl-3">+-------------------+</span>
</code><button>Copy</button></pre>
<p><strong>ITool interface (abbreviated):</strong></p>
<pre><code class="language-typescript"><span class="hl-3">interface</span><span class="hl-1"> </span><span class="hl-0">ITool</span><span class="hl-1">&lt;</span><span class="hl-0">TInput</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-4">any</span><span class="hl-1">, </span><span class="hl-0">TOutput</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-4">any</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">readonly</span><span class="hl-1"> </span><span class="hl-6">id</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1">;              </span><span class="hl-5">// Globally unique identifier</span><br/><span class="hl-1">  </span><span class="hl-3">readonly</span><span class="hl-1"> </span><span class="hl-6">name</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1">;            </span><span class="hl-5">// LLM-facing function name</span><br/><span class="hl-1">  </span><span class="hl-3">readonly</span><span class="hl-1"> </span><span class="hl-6">displayName</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1">;     </span><span class="hl-5">// Human-readable title</span><br/><span class="hl-1">  </span><span class="hl-3">readonly</span><span class="hl-1"> </span><span class="hl-6">description</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1">;     </span><span class="hl-5">// Natural language description for LLM</span><br/><span class="hl-1">  </span><span class="hl-3">readonly</span><span class="hl-1"> </span><span class="hl-6">inputSchema</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">JSONSchemaObject</span><span class="hl-1">;   </span><span class="hl-5">// JSON Schema for input validation</span><br/><span class="hl-1">  </span><span class="hl-3">readonly</span><span class="hl-1"> </span><span class="hl-6">outputSchema</span><span class="hl-3">?:</span><span class="hl-1"> </span><span class="hl-0">JSONSchemaObject</span><span class="hl-1">; </span><span class="hl-5">// JSON Schema for output validation</span><br/><span class="hl-1">  </span><span class="hl-3">readonly</span><span class="hl-1"> </span><span class="hl-6">category</span><span class="hl-3">?:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1">;       </span><span class="hl-5">// Grouping (e.g., &quot;data_analysis&quot;)</span><br/><span class="hl-1">  </span><span class="hl-3">readonly</span><span class="hl-1"> </span><span class="hl-6">hasSideEffects</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-4">boolean</span><span class="hl-1">; </span><span class="hl-5">// Whether the tool modifies external state</span><br/><span class="hl-1">  </span><span class="hl-3">readonly</span><span class="hl-1"> </span><span class="hl-6">requiredCapabilities</span><span class="hl-3">?:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1">[]; </span><span class="hl-5">// Persona capabilities needed</span><br/><br/><span class="hl-1">  </span><span class="hl-0">execute</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-6">args</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">TInput</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">context</span><span class="hl-3">?:</span><span class="hl-1"> </span><span class="hl-0">ToolExecutionContext</span><br/><span class="hl-1">  )</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">Promise</span><span class="hl-1">&lt;</span><span class="hl-0">ToolExecutionResult</span><span class="hl-1">&lt;</span><span class="hl-0">TOutput</span><span class="hl-1">&gt;&gt;;</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p><strong>ToolExecutionResult:</strong></p>
<pre><code class="language-typescript"><span class="hl-3">interface</span><span class="hl-1"> </span><span class="hl-0">ToolExecutionResult</span><span class="hl-1">&lt;</span><span class="hl-0">TOutput</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-4">any</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-6">success</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-4">boolean</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">output</span><span class="hl-3">?:</span><span class="hl-1"> </span><span class="hl-0">TOutput</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">error</span><span class="hl-3">?:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">contentType</span><span class="hl-3">?:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1">;  </span><span class="hl-5">// MIME type (default: &quot;application/json&quot;)</span><br/><span class="hl-1">  </span><span class="hl-6">details</span><span class="hl-3">?:</span><span class="hl-1"> </span><span class="hl-0">Record</span><span class="hl-1">&lt;</span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">any</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p><strong>ToolExecutionContext</strong> provides the tool with calling agent identity (<code>gmiId</code>, <code>personaId</code>), user context, correlation ID for tracing, and optional session data.</p>
<hr>
<a id="md:extension-system" class="tsd-anchor"></a><h3><a href="#md:extension-system">Extension System</a></h3><p><strong>Location:</strong> <code>src/extensions/</code></p>
<p>The extension system is AgentOS&#39;s plugin architecture. Extensions are packaged as <strong>packs</strong> containing one or more <strong>descriptors</strong>, loaded via a <strong>manifest</strong>.</p>
<pre><code><span class="hl-1">ExtensionManifest</span><br/><span class="hl-1">    </span><span class="hl-3">|</span><br/><span class="hl-1">    </span><span class="hl-3">+--</span><span class="hl-1"> ExtensionPackManifestEntry[]</span><br/><span class="hl-1">            </span><span class="hl-3">|</span><br/><span class="hl-1">            </span><span class="hl-3">+--</span><span class="hl-1"> </span><span class="hl-0">ExtensionPack</span><span class="hl-1"> (resolved via factory</span><span class="hl-3">/</span><span class="hl-4">module</span><span class="hl-3">/</span><span class="hl-1">package)</span><br/><span class="hl-1">                    </span><span class="hl-3">|</span><br/><span class="hl-1">                    </span><span class="hl-3">+--</span><span class="hl-1"> ExtensionDescriptor[] (id </span><span class="hl-3">+</span><span class="hl-1"> kind </span><span class="hl-3">+</span><span class="hl-1"> payload)</span><br/><span class="hl-1">                            </span><span class="hl-3">|</span><br/><span class="hl-1">                            </span><span class="hl-3">+--</span><span class="hl-1"> Registered </span><span class="hl-3">in</span><span class="hl-1"> ExtensionRegistry</span><br/><span class="hl-1">                                    </span><span class="hl-3">|</span><br/><span class="hl-1">                                    </span><span class="hl-3">+--</span><span class="hl-1"> Consumed by </span><span class="hl-0">runtime</span><span class="hl-1"> (ToolOrchestrator,</span><br/><span class="hl-1">                                        GuardrailService, WorkflowEngine, etc.)</span>
</code><button>Copy</button></pre>
<p><strong>12 extension kinds:</strong></p>
<table>
<thead>
<tr>
<th>Kind Constant</th>
<th>Value</th>
<th>Payload Type</th>
</tr>
</thead>
<tbody><tr>
<td><code>EXTENSION_KIND_TOOL</code></td>
<td><code>&quot;tool&quot;</code></td>
<td><code>ITool</code></td>
</tr>
<tr>
<td><code>EXTENSION_KIND_GUARDRAIL</code></td>
<td><code>&quot;guardrail&quot;</code></td>
<td><code>IGuardrailService</code></td>
</tr>
<tr>
<td><code>EXTENSION_KIND_RESPONSE_PROCESSOR</code></td>
<td><code>&quot;response-processor&quot;</code></td>
<td>Response transform function</td>
</tr>
<tr>
<td><code>EXTENSION_KIND_WORKFLOW</code></td>
<td><code>&quot;workflow&quot;</code></td>
<td><code>WorkflowDescriptorPayload</code></td>
</tr>
<tr>
<td><code>EXTENSION_KIND_WORKFLOW_EXECUTOR</code></td>
<td><code>&quot;workflow-executor&quot;</code></td>
<td>Workflow step executor</td>
</tr>
<tr>
<td><code>EXTENSION_KIND_PERSONA</code></td>
<td><code>&quot;persona&quot;</code></td>
<td><code>IPersonaDefinition</code></td>
</tr>
<tr>
<td><code>EXTENSION_KIND_PLANNING_STRATEGY</code></td>
<td><code>&quot;planning-strategy&quot;</code></td>
<td>Planning algorithm</td>
</tr>
<tr>
<td><code>EXTENSION_KIND_HITL_HANDLER</code></td>
<td><code>&quot;hitl-handler&quot;</code></td>
<td>Human interaction handler</td>
</tr>
<tr>
<td><code>EXTENSION_KIND_COMM_CHANNEL</code></td>
<td><code>&quot;communication-channel&quot;</code></td>
<td>Agent-to-agent channel</td>
</tr>
<tr>
<td><code>EXTENSION_KIND_MEMORY_PROVIDER</code></td>
<td><code>&quot;memory-provider&quot;</code></td>
<td>Memory backend</td>
</tr>
<tr>
<td><code>EXTENSION_KIND_MESSAGING_CHANNEL</code></td>
<td><code>&quot;messaging-channel&quot;</code></td>
<td>External platform adapter</td>
</tr>
<tr>
<td><code>EXTENSION_KIND_PROVENANCE</code></td>
<td><code>&quot;provenance&quot;</code></td>
<td>Audit/immutability handler</td>
</tr>
</tbody></table>
<p><strong>ExtensionDescriptor:</strong></p>
<pre><code class="language-typescript"><span class="hl-3">interface</span><span class="hl-1"> </span><span class="hl-0">ExtensionDescriptor</span><span class="hl-1">&lt;</span><span class="hl-0">TPayload</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-4">unknown</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-6">id</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1">;                           </span><span class="hl-5">// Unique within its kind</span><br/><span class="hl-1">  </span><span class="hl-6">kind</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">ExtensionKind</span><span class="hl-1">;                  </span><span class="hl-5">// One of the 12 kinds above</span><br/><span class="hl-1">  </span><span class="hl-6">priority</span><span class="hl-3">?:</span><span class="hl-1"> </span><span class="hl-4">number</span><span class="hl-1">;                    </span><span class="hl-5">// Higher loads later (overrides earlier)</span><br/><span class="hl-1">  </span><span class="hl-6">enableByDefault</span><span class="hl-3">?:</span><span class="hl-1"> </span><span class="hl-4">boolean</span><span class="hl-1">;            </span><span class="hl-5">// Auto-enable on discovery</span><br/><span class="hl-1">  </span><span class="hl-6">metadata</span><span class="hl-3">?:</span><span class="hl-1"> </span><span class="hl-0">Record</span><span class="hl-1">&lt;</span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">unknown</span><span class="hl-1">&gt;;   </span><span class="hl-5">// Arbitrary metadata</span><br/><span class="hl-1">  </span><span class="hl-6">payload</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">TPayload</span><span class="hl-1">;                    </span><span class="hl-5">// The actual implementation</span><br/><span class="hl-1">  </span><span class="hl-6">source</span><span class="hl-3">?:</span><span class="hl-1"> </span><span class="hl-0">ExtensionSourceMetadata</span><span class="hl-1">;     </span><span class="hl-5">// Provenance (package name, version)</span><br/><span class="hl-1">  </span><span class="hl-6">requiredSecrets</span><span class="hl-3">?:</span><span class="hl-1"> </span><span class="hl-0">ExtensionSecretRequirement</span><span class="hl-1">[]; </span><span class="hl-5">// API keys needed</span><br/><span class="hl-1">  </span><span class="hl-0">onActivate</span><span class="hl-3">?:</span><span class="hl-1"> (</span><span class="hl-6">ctx</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">ExtensionLifecycleContext</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-0">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">void</span><span class="hl-1">&gt; </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-4">void</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">onDeactivate</span><span class="hl-3">?:</span><span class="hl-1"> (</span><span class="hl-6">ctx</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">ExtensionLifecycleContext</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-0">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">void</span><span class="hl-1">&gt; </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-4">void</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p><strong>ExtensionManifest:</strong></p>
<pre><code class="language-typescript"><span class="hl-3">interface</span><span class="hl-1"> </span><span class="hl-0">ExtensionManifest</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">packs</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">ExtensionPackManifestEntry</span><span class="hl-1">[];  </span><span class="hl-5">// Pack references</span><br/><span class="hl-1">  </span><span class="hl-6">overrides</span><span class="hl-3">?:</span><span class="hl-1"> </span><span class="hl-0">ExtensionOverrides</span><span class="hl-1">;       </span><span class="hl-5">// Per-descriptor enable/disable/priority</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">// Packs can be resolved three ways:</span><br/><span class="hl-3">type</span><span class="hl-1"> </span><span class="hl-0">ExtensionPackResolver</span><span class="hl-1"> </span><span class="hl-3">=</span><br/><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> { </span><span class="hl-6">package</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1">; </span><span class="hl-6">version</span><span class="hl-3">?:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1"> }  </span><span class="hl-5">// npm package</span><br/><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> { </span><span class="hl-6">module</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1"> }                     </span><span class="hl-5">// Local module path</span><br/><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> { </span><span class="hl-0">factory</span><span class="hl-3">:</span><span class="hl-1"> () </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-0">Promise</span><span class="hl-1">&lt;</span><span class="hl-0">ExtensionPack</span><span class="hl-1">&gt; </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-0">ExtensionPack</span><span class="hl-1"> }; </span><span class="hl-5">// Inline factory</span>
</code><button>Copy</button></pre>
<p><strong>Loading pipeline:</strong></p>
<ol>
<li><code>ExtensionLoader</code> resolves pack entries from the manifest</li>
<li><code>ExtensionRegistry</code> registers descriptors by kind, applying priority stacking</li>
<li><code>ExtensionManager</code> provides runtime access: <code>getTools()</code>, <code>getGuardrails()</code>, <code>getWorkflows()</code>, etc.</li>
<li><code>MultiRegistryLoader</code> supports loading from multiple remote registries</li>
</ol>
<hr>
<a id="md:planning-engine" class="tsd-anchor"></a><h3><a href="#md:planning-engine">Planning Engine</a></h3><p><strong>Location:</strong> <code>src/core/planning/</code></p>
<p>The planning engine enables multi-step task decomposition and execution using ReAct (Reasoning + Acting) patterns.</p>
<pre><code><span class="hl-3">+-----------------------------------------------------------+</span><br/><span class="hl-3">|</span><span class="hl-1">                    PlanningEngine                           </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  (Task decomposition, step sequencing, execution loop)     </span><span class="hl-3">|</span><br/><span class="hl-3">+-----------------------------------------------------------+</span><br/><span class="hl-1">        </span><span class="hl-3">|</span><br/><span class="hl-1">        v</span><br/><span class="hl-3">+-----------------------------------------------------------+</span><br/><span class="hl-3">|</span><span class="hl-1">  IPlanningEngine Interface                                 </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">                                                            </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-0">createPlan</span><span class="hl-1">(goal, context) </span><span class="hl-3">-&gt;</span><span class="hl-1"> Plan                         </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-0">executePlan</span><span class="hl-1">(plan) </span><span class="hl-3">-&gt;</span><span class="hl-1"> AsyncGenerator</span><span class="hl-3">&lt;</span><span class="hl-1">PlanStepResult</span><span class="hl-3">&gt;</span><span class="hl-1">        </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-0">revisePlan</span><span class="hl-1">(plan, feedback) </span><span class="hl-3">-&gt;</span><span class="hl-1"> Plan                         </span><span class="hl-3">|</span><br/><span class="hl-3">+-----------------------------------------------------------+</span>
</code><button>Copy</button></pre>
<p>Plans are composed of typed steps that the agent executes sequentially, with the ability to revise the plan based on intermediate results. The planning engine integrates with:</p>
<ul>
<li><strong>Tool system</strong> for action execution</li>
<li><strong>Guardrails</strong> for step-level safety checks</li>
<li><strong>HITL</strong> for human approval of high-risk steps</li>
<li><strong>Memory</strong> for persisting plan state across sessions</li>
</ul>
<p>See <a href="docs/PLANNING_ENGINE.md"><code>docs/PLANNING_ENGINE.md</code></a> for the full planning system specification.</p>
<hr>
<a id="md:conversation-management" class="tsd-anchor"></a><h3><a href="#md:conversation-management">Conversation Management</a></h3><p><strong>Location:</strong> <code>src/core/conversation/</code></p>
<p>Manages session state, message history, and long-term memory persistence.</p>
<ul>
<li><strong>ConversationManager</strong> -- Creates and retrieves conversation contexts, manages rolling message windows, and coordinates memory persistence.</li>
<li><strong>ConversationContext</strong> -- Immutable snapshot of a conversation: messages, metadata, active persona, user context.</li>
<li><strong>IRollingSummaryMemorySink</strong> -- Interface for persisting conversation summaries that compress long conversations into retrievable memory.</li>
<li><strong>ILongTermMemoryRetriever</strong> -- Interface for retrieving relevant past conversations during context assembly.</li>
</ul>
<hr>
<a id="md:rag-retrieval-augmented-generation" class="tsd-anchor"></a><h3><a href="#md:rag-retrieval-augmented-generation">RAG (Retrieval Augmented Generation)</a></h3><p><strong>Location:</strong> <code>src/rag/</code></p>
<p>A complete RAG pipeline with pluggable vector stores, embedding management, and document ingestion.</p>
<pre><code><span class="hl-3">+-----------------------------------------------------------+</span><br/><span class="hl-3">|</span><span class="hl-1">                  RetrievalAugmentor                         </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  (Orchestrates ingestion, retrieval, document management)  </span><span class="hl-3">|</span><br/><span class="hl-3">+-----------------------------------------------------------+</span><br/><span class="hl-1">        </span><span class="hl-3">|</span><span class="hl-1">                               </span><span class="hl-3">|</span><br/><span class="hl-1">        v                               v</span><br/><span class="hl-3">+-------------------+</span><span class="hl-1">         </span><span class="hl-3">+---------------------+</span><br/><span class="hl-3">|</span><span class="hl-1">  EmbeddingManager </span><span class="hl-3">|</span><span class="hl-1">         </span><span class="hl-3">|</span><span class="hl-1"> VectorStoreManager  </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  (Model selection,</span><span class="hl-3">|</span><span class="hl-1">         </span><span class="hl-3">|</span><span class="hl-1"> (Multi</span><span class="hl-3">-</span><span class="hl-1">provider     </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">   caching, batch) </span><span class="hl-3">|</span><span class="hl-1">         </span><span class="hl-3">|</span><span class="hl-1">  vector storage)    </span><span class="hl-3">|</span><br/><span class="hl-3">+-------------------+</span><span class="hl-1">         </span><span class="hl-3">+---------------------+</span><br/><span class="hl-1">        </span><span class="hl-3">|</span><span class="hl-1">                               </span><span class="hl-3">|</span><br/><span class="hl-1">        v                               v</span><br/><span class="hl-3">+-------------------+</span><span class="hl-1">         </span><span class="hl-3">+---------------------+</span><br/><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-4">LLM</span><span class="hl-1"> Provider      </span><span class="hl-3">|</span><span class="hl-1">         </span><span class="hl-3">|</span><span class="hl-1"> IVectorStore impls  </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1"> (embedding models)</span><span class="hl-3">|</span><span class="hl-1">         </span><span class="hl-3">+---------------------+</span><br/><span class="hl-3">+-------------------+</span><span class="hl-1">             </span><span class="hl-3">|</span><span class="hl-1">    </span><span class="hl-3">|</span><span class="hl-1">    </span><span class="hl-3">|</span><span class="hl-1">    </span><span class="hl-3">|</span><br/><span class="hl-1">                       </span><span class="hl-3">+----------+</span><span class="hl-1">    </span><span class="hl-3">|</span><span class="hl-1">    </span><span class="hl-3">|</span><span class="hl-1">    </span><span class="hl-3">+-----------+</span><br/><span class="hl-1">                       v               v    v               v</span><br/><span class="hl-1">                </span><span class="hl-3">+-----------+</span><span class="hl-1">  </span><span class="hl-3">+--------+</span><span class="hl-1">  </span><span class="hl-3">+--------+</span><span class="hl-1">  </span><span class="hl-3">+---------+</span><br/><span class="hl-1">                </span><span class="hl-3">|</span><span class="hl-1"> InMemory  </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-4">SQL</span><span class="hl-1">   </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-4">HNSW</span><span class="hl-1">   </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> Qdrant  </span><span class="hl-3">|</span><br/><span class="hl-1">                </span><span class="hl-3">|</span><span class="hl-1"> (dev)     </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> (prod) </span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> (local)</span><span class="hl-3">|</span><span class="hl-1">  </span><span class="hl-3">|</span><span class="hl-1"> (cloud) </span><span class="hl-3">|</span><br/><span class="hl-1">                </span><span class="hl-3">+-----------+</span><span class="hl-1">  </span><span class="hl-3">+--------+</span><span class="hl-1">  </span><span class="hl-3">+--------+</span><span class="hl-1">  </span><span class="hl-3">+---------+</span>
</code><button>Copy</button></pre>
<p><strong>Vector store implementations:</strong></p>
<table>
<thead>
<tr>
<th>Store</th>
<th>Import</th>
<th>Use Case</th>
</tr>
</thead>
<tbody><tr>
<td><code>InMemoryVectorStore</code></td>
<td><code>@framers/agentos/rag</code></td>
<td>Development and testing</td>
</tr>
<tr>
<td><code>SqlVectorStore</code></td>
<td><code>@framers/agentos/rag</code></td>
<td>Production (SQLite/Postgres via <code>@framers/sql-storage-adapter</code>)</td>
</tr>
<tr>
<td><code>HnswlibVectorStore</code></td>
<td><code>@framers/agentos/rag</code></td>
<td>High-performance local ANN search</td>
</tr>
<tr>
<td><code>QdrantVectorStore</code></td>
<td><code>@framers/agentos/rag</code></td>
<td>Cloud-hosted vector database</td>
</tr>
<tr>
<td><code>Neo4jVectorStore</code></td>
<td><code>@framers/agentos/rag</code></td>
<td>Neo4j 5.x native vector indexes with shared connection pooling</td>
</tr>
</tbody></table>
<p><strong>GraphRAG:</strong></p>
<p>AgentOS supports both in-memory <code>GraphRAGEngine</code> and persistent <code>Neo4jGraphRAGEngine</code> (at <code>src/rag/graphrag/</code>) for knowledge-graph-enhanced retrieval:</p>
<ul>
<li>Entity and relationship extraction from documents</li>
<li>Community detection via Louvain algorithm (requires <code>graphology</code> peer dependency)</li>
<li>Local search (entity-centric) and global search (community-summarized)</li>
<li>Hybrid retrieval combining vector similarity with graph traversal</li>
</ul>
<pre><code class="language-typescript"><span class="hl-3">import</span><span class="hl-1"> { GraphRAGEngine } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos/rag/graphrag&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { Neo4jGraphRAGEngine } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos/rag/graphrag&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> </span><span class="hl-3">type</span><span class="hl-1"> { GraphRAGConfig, GraphEntity, GraphRelationship } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos/rag/graphrag&#39;</span><span class="hl-1">;</span>
</code><button>Copy</button></pre>
<p>See <a href="docs/RAG_MEMORY_CONFIGURATION.md"><code>docs/RAG_MEMORY_CONFIGURATION.md</code></a> and <a href="docs/MULTIMODAL_RAG.md"><code>docs/MULTIMODAL_RAG.md</code></a> for detailed configuration guides.</p>
<hr>
<a id="md:safety-and-guardrails" class="tsd-anchor"></a><h3><a href="#md:safety-and-guardrails">Safety and Guardrails</a></h3><p><strong>Location:</strong> <code>src/core/safety/</code> and <code>src/core/guardrails/</code></p>
<p>AgentOS provides defense-in-depth safety through two complementary systems.</p>
<a id="md:safety-primitives-coresafety" class="tsd-anchor"></a><h4><a href="#md:safety-primitives-coresafety">Safety Primitives (<code>core/safety/</code>)</a></h4><p>Five runtime safety components:</p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Export</th>
<th>Purpose</th>
</tr>
</thead>
<tbody><tr>
<td><strong>CircuitBreaker</strong></td>
<td><code>CircuitBreaker</code></td>
<td>Three-state (closed/open/half-open) wrapper for LLM calls. Configurable failure threshold, reset timeout, and half-open probe count. Throws <code>CircuitOpenError</code> when tripped.</td>
</tr>
<tr>
<td><strong>ActionDeduplicator</strong></td>
<td><code>ActionDeduplicator</code></td>
<td>Hash-based recent action tracking with LRU eviction. Prevents redundant tool calls and repeated operations within a configurable time window.</td>
</tr>
<tr>
<td><strong>StuckDetector</strong></td>
<td><code>StuckDetector</code></td>
<td>Detects three patterns: repeated outputs, repeated errors, and oscillation (A-B-A-B cycles). Returns <code>StuckDetection</code> with reason and confidence.</td>
</tr>
<tr>
<td><strong>CostGuard</strong></td>
<td><code>CostGuard</code></td>
<td>Per-agent session and daily spending caps. Defaults: $1/session, $5/day. Throws <code>CostCapExceededError</code> when limits are hit. Tracks token usage across all LLM calls.</td>
</tr>
<tr>
<td><strong>ToolExecutionGuard</strong></td>
<td><code>ToolExecutionGuard</code></td>
<td>Per-tool timeout (30s default) with independent circuit breakers per tool ID. Reports <code>ToolHealthReport</code> for monitoring. Throws <code>ToolTimeoutError</code>.</td>
</tr>
</tbody></table>
<pre><code class="language-typescript"><span class="hl-3">import</span><span class="hl-1"> {</span><br/><span class="hl-1">  CircuitBreaker,</span><br/><span class="hl-1">  CostGuard,</span><br/><span class="hl-1">  StuckDetector,</span><br/><span class="hl-1">  ActionDeduplicator,</span><br/><span class="hl-1">  ToolExecutionGuard,</span><br/><span class="hl-1">} </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos/core/safety&#39;</span><span class="hl-1">;</span>
</code><button>Copy</button></pre>
<p>See <a href="docs/SAFETY_PRIMITIVES.md"><code>docs/SAFETY_PRIMITIVES.md</code></a> for the full safety API reference.</p>
<a id="md:guardrails-coreguardrails" class="tsd-anchor"></a><h4><a href="#md:guardrails-coreguardrails">Guardrails (<code>core/guardrails/</code>)</a></h4><p>Content-level input/output filtering:</p>
<pre><code class="language-typescript"><span class="hl-3">enum</span><span class="hl-1"> </span><span class="hl-0">GuardrailAction</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">ALLOW</span><span class="hl-1">    </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-2">&#39;allow&#39;</span><span class="hl-1">,     </span><span class="hl-5">// Pass through unchanged</span><br/><span class="hl-1">  </span><span class="hl-4">FLAG</span><span class="hl-1">     </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-2">&#39;flag&#39;</span><span class="hl-1">,      </span><span class="hl-5">// Pass through but log for review</span><br/><span class="hl-1">  </span><span class="hl-4">SANITIZE</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-2">&#39;sanitize&#39;</span><span class="hl-1">,  </span><span class="hl-5">// Replace with modified content (e.g., PII redaction)</span><br/><span class="hl-1">  </span><span class="hl-4">BLOCK</span><span class="hl-1">    </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-2">&#39;block&#39;</span><span class="hl-1">,     </span><span class="hl-5">// Reject entirely, terminate stream</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">interface</span><span class="hl-1"> </span><span class="hl-0">IGuardrailService</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">evaluateInput</span><span class="hl-3">?</span><span class="hl-1">(</span><span class="hl-6">input</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">AgentOSInput</span><span class="hl-1">, </span><span class="hl-6">context</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">GuardrailContext</span><span class="hl-1">)</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">Promise</span><span class="hl-1">&lt;</span><span class="hl-0">GuardrailEvaluationResult</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">  </span><span class="hl-0">evaluateOutput</span><span class="hl-3">?</span><span class="hl-1">(</span><span class="hl-6">output</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-6">context</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">GuardrailContext</span><span class="hl-1">)</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">Promise</span><span class="hl-1">&lt;</span><span class="hl-0">GuardrailEvaluationResult</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>Guardrails run at two points in the request lifecycle:</p>
<ol>
<li><strong>Pre-processing</strong> -- <code>evaluateInput()</code> inspects user input before it reaches the LLM</li>
<li><strong>Post-processing</strong> -- <code>evaluateOutput()</code> inspects the LLM response before streaming to the client</li>
</ol>
<p>Multiple guardrails can be composed via the extension system, and each receives full context (user ID, session ID, persona ID, custom metadata) for context-aware policy decisions.</p>
<p>See <a href="docs/GUARDRAILS_USAGE.md"><code>docs/GUARDRAILS_USAGE.md</code></a> for implementation patterns.</p>
<hr>
<a id="md:human-in-the-loop-hitl" class="tsd-anchor"></a><h3><a href="#md:human-in-the-loop-hitl">Human-in-the-Loop (HITL)</a></h3><p><strong>Location:</strong> <code>src/core/hitl/</code></p>
<p>The HITL system enables agents to request human approval, clarification, and collaboration at key decision points.</p>
<p><strong>Core interface: <code>IHumanInteractionManager</code></strong></p>
<p>Three interaction modes:</p>
<table>
<thead>
<tr>
<th>Mode</th>
<th>Method</th>
<th>Use Case</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Approval</strong></td>
<td><code>requestApproval()</code></td>
<td>Gate high-risk actions (database mutations, financial operations, external communications)</td>
</tr>
<tr>
<td><strong>Clarification</strong></td>
<td><code>requestClarification()</code></td>
<td>Ask the user for missing information before proceeding</td>
</tr>
<tr>
<td><strong>Escalation</strong></td>
<td><code>escalateToHuman()</code></td>
<td>Hand off to a human operator when the agent cannot proceed</td>
</tr>
</tbody></table>
<p><strong>PendingAction structure:</strong></p>
<pre><code class="language-typescript"><span class="hl-3">interface</span><span class="hl-1"> </span><span class="hl-0">PendingAction</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">actionId</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">description</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">severity</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-2">&#39;low&#39;</span><span class="hl-1"> </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-2">&#39;medium&#39;</span><span class="hl-1"> </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-2">&#39;high&#39;</span><span class="hl-1"> </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-2">&#39;critical&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">category</span><span class="hl-3">?:</span><span class="hl-1"> </span><span class="hl-2">&#39;data_modification&#39;</span><span class="hl-1"> </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-2">&#39;external_api&#39;</span><span class="hl-1"> </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-2">&#39;financial&#39;</span><span class="hl-1"> </span><span class="hl-3">|</span><br/><span class="hl-1">             </span><span class="hl-2">&#39;communication&#39;</span><span class="hl-1"> </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-2">&#39;system&#39;</span><span class="hl-1"> </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-2">&#39;other&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">agentId</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">context</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">Record</span><span class="hl-1">&lt;</span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">unknown</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">  </span><span class="hl-6">potentialConsequences</span><span class="hl-3">?:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1">[];</span><br/><span class="hl-1">  </span><span class="hl-6">reversible</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-4">boolean</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">estimatedCost</span><span class="hl-3">?:</span><span class="hl-1"> { </span><span class="hl-6">amount</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-4">number</span><span class="hl-1">; </span><span class="hl-6">currency</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1"> };</span><br/><span class="hl-1">  </span><span class="hl-6">timeoutMs</span><span class="hl-3">?:</span><span class="hl-1"> </span><span class="hl-4">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">alternatives</span><span class="hl-3">?:</span><span class="hl-1"> </span><span class="hl-0">AlternativeAction</span><span class="hl-1">[];</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<p>HITL integrates with the planning engine so individual plan steps can require approval, and with the extension system via <code>EXTENSION_KIND_HITL_HANDLER</code> for custom approval UIs.</p>
<p>See <a href="docs/HUMAN_IN_THE_LOOP.md"><code>docs/HUMAN_IN_THE_LOOP.md</code></a> for the full HITL specification.</p>
<hr>
<a id="md:channels-system" class="tsd-anchor"></a><h3><a href="#md:channels-system">Channels System</a></h3><p><strong>Location:</strong> <code>src/channels/</code></p>
<p>Unified adapters for 20 external messaging platforms.</p>
<p><strong>20 supported platforms:</strong></p>
<table>
<thead>
<tr>
<th>Priority</th>
<th>Platforms</th>
</tr>
</thead>
<tbody><tr>
<td><strong>P0</strong> (Core)</td>
<td>Telegram, WhatsApp, Discord, Slack, Webchat</td>
</tr>
<tr>
<td><strong>P1</strong></td>
<td>Signal, iMessage, Google Chat, Microsoft Teams</td>
</tr>
<tr>
<td><strong>P2</strong></td>
<td>Matrix, Zalo, Email, SMS</td>
</tr>
<tr>
<td><strong>P3</strong></td>
<td>Nostr, Twitch, Line, Feishu, Mattermost, Nextcloud Talk, Tlon</td>
</tr>
</tbody></table>
<p><strong>21 capability flags:</strong></p>
<p>Each adapter declares its capabilities, allowing consumers to check before attempting unsupported actions:</p>
<pre><code><span class="hl-1">text, rich_text, images, video, audio, voice_notes, documents,</span><br/><span class="hl-1">stickers, reactions, threads, typing_indicator, read_receipts,</span><br/><span class="hl-1">group_chat, channels, buttons, inline_keyboard, embeds,</span><br/><span class="hl-1">mentions, editing, deletion</span>
</code><button>Copy</button></pre>
<p><strong>IChannelAdapter</strong> -- Unified interface for bidirectional messaging:</p>
<ul>
<li><code>connect()</code> / <code>disconnect()</code> -- Lifecycle management</li>
<li><code>sendMessage()</code> -- Outbound messages with platform-specific formatting</li>
<li><code>onMessage()</code> -- Inbound message handler registration</li>
<li><code>getConnectionInfo()</code> -- Connection health monitoring</li>
<li><code>capabilities</code> -- Declared capability set</li>
</ul>
<p><strong>ChannelRouter</strong> -- Routes inbound messages to the appropriate agent and outbound responses to the correct platform adapter. Supports multi-platform agents (one agent, many channels).</p>
<p><strong>Connection status:</strong> <code>disconnected</code> -&gt; <code>connecting</code> -&gt; <code>connected</code> -&gt; <code>reconnecting</code> -&gt; <code>error</code></p>
<p>Channel adapters are registered as extensions via <code>EXTENSION_KIND_MESSAGING_CHANNEL</code>.</p>
<p>See <a href="docs/PLATFORM_SUPPORT.md"><code>docs/PLATFORM_SUPPORT.md</code></a> for platform-specific configuration.</p>
<hr>
<a id="md:voice-and-telephony" class="tsd-anchor"></a><h3><a href="#md:voice-and-telephony">Voice and Telephony</a></h3><p><strong>Location:</strong> <code>src/voice/</code></p>
<p>Enable agents to make and receive phone calls via telephony providers.</p>
<p><strong>Call state machine:</strong></p>
<pre><code><span class="hl-1">initiated </span><span class="hl-3">--&gt;</span><span class="hl-1"> ringing </span><span class="hl-3">--&gt;</span><span class="hl-1"> answered </span><span class="hl-3">--&gt;</span><span class="hl-1"> active </span><span class="hl-3">--&gt;</span><span class="hl-1"> speaking </span><span class="hl-3">&lt;--&gt;</span><span class="hl-1"> listening</span><br/><span class="hl-1">    </span><span class="hl-3">|</span><span class="hl-1">            </span><span class="hl-3">|</span><span class="hl-1">           </span><span class="hl-3">|</span><span class="hl-1">          </span><span class="hl-3">|</span><span class="hl-1">            </span><span class="hl-3">|</span><span class="hl-1">            </span><span class="hl-3">|</span><br/><span class="hl-1">    </span><span class="hl-3">+------------+-----------+----------+------------+------------+</span><br/><span class="hl-1">    </span><span class="hl-3">|</span><span class="hl-1">                    (any non</span><span class="hl-3">-</span><span class="hl-1">terminal state)                 </span><span class="hl-3">|</span><br/><span class="hl-1">    v</span><br/><span class="hl-1">[Terminal States]</span><br/><span class="hl-1">completed </span><span class="hl-3">|</span><span class="hl-1"> hangup</span><span class="hl-3">-</span><span class="hl-1">user </span><span class="hl-3">|</span><span class="hl-1"> hangup</span><span class="hl-3">-</span><span class="hl-1">bot </span><span class="hl-3">|</span><span class="hl-1"> timeout </span><span class="hl-3">|</span><span class="hl-1"> error </span><span class="hl-3">|</span><br/><span class="hl-1">failed </span><span class="hl-3">|</span><span class="hl-1"> no</span><span class="hl-3">-</span><span class="hl-1">answer </span><span class="hl-3">|</span><span class="hl-1"> busy </span><span class="hl-3">|</span><span class="hl-1"> voicemail</span>
</code><button>Copy</button></pre>
<p><strong>Providers:</strong></p>
<table>
<thead>
<tr>
<th>Provider</th>
<th>Support</th>
</tr>
</thead>
<tbody><tr>
<td>Twilio</td>
<td>Full voice + SMS</td>
</tr>
<tr>
<td>Telnyx</td>
<td>Full voice</td>
</tr>
<tr>
<td>Plivo</td>
<td>Full voice</td>
</tr>
<tr>
<td>Mock</td>
<td>Testing/development</td>
</tr>
</tbody></table>
<p><strong>Key components:</strong></p>
<ul>
<li><strong>CallManager</strong> -- Manages call lifecycle, state transitions, and event dispatch</li>
<li><strong>IVoiceCallProvider</strong> -- Interface for telephony provider adapters</li>
<li><strong>telephony-audio.ts</strong> -- Audio stream handling and format conversion</li>
</ul>
<p>Voice providers are registered via <code>EXTENSION_KIND_TOOL</code> with the <code>voice-call-provider</code> category.</p>
<hr>
<a id="md:workflows" class="tsd-anchor"></a><h3><a href="#md:workflows">Workflows</a></h3><p><strong>Location:</strong> <code>src/core/workflows/</code></p>
<p>Declarative multi-step workflows with persistence and monitoring.</p>
<ul>
<li><strong>WorkflowEngine</strong> -- Instantiates and executes workflow definitions</li>
<li><strong>IWorkflowStore</strong> -- Persistence interface for workflow state (supports SQL and in-memory backends)</li>
<li><strong>WorkflowTypes</strong> -- Type definitions for workflow definitions, instances, tasks, and progress updates</li>
</ul>
<p>Workflows integrate with the IAgentOS interface:</p>
<pre><code class="language-typescript"><span class="hl-5">// List available workflow definitions</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">definitions</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> agent.</span><span class="hl-0">listWorkflowDefinitions</span><span class="hl-1">();</span><br/><br/><span class="hl-5">// Start a workflow instance</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">instance</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">await</span><span class="hl-1"> agent.</span><span class="hl-0">startWorkflow</span><span class="hl-1">(</span><span class="hl-2">&#39;data-pipeline-v1&#39;</span><span class="hl-1">, input, {</span><br/><span class="hl-1">  context: { source: </span><span class="hl-2">&#39;scheduled&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">  roleAssignments: { analyst: </span><span class="hl-2">&#39;gmi-123&#39;</span><span class="hl-1">, reviewer: </span><span class="hl-2">&#39;gmi-456&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// Monitor progress</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">status</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">await</span><span class="hl-1"> agent.</span><span class="hl-0">getWorkflow</span><span class="hl-1">(instance.workflowId);</span>
</code><button>Copy</button></pre>
<hr>
<a id="md:multi-agent-coordination" class="tsd-anchor"></a><h3><a href="#md:multi-agent-coordination">Multi-Agent Coordination</a></h3><p><strong>Location:</strong> <code>src/core/agency/</code></p>
<p>Enables teams of agents to collaborate on shared goals.</p>
<ul>
<li><strong>AgencyRegistry</strong> -- Register and manage agent teams with role assignments</li>
<li><strong>AgentCommunicationBus</strong> -- Inter-agent message passing with typed events and handoffs</li>
<li><strong>AgencyMemoryManager</strong> -- Shared memory space with vector search for agency-wide knowledge</li>
</ul>
<pre><code><span class="hl-3">+-----------------------------------------------------------+</span><br/><span class="hl-3">|</span><span class="hl-1">                    AgencyRegistry                          </span><span class="hl-3">|</span><br/><span class="hl-3">+-----------------------------------------------------------+</span><br/><span class="hl-1">    </span><span class="hl-3">|</span><span class="hl-1">               </span><span class="hl-3">|</span><span class="hl-1">               </span><span class="hl-3">|</span><span class="hl-1">               </span><span class="hl-3">|</span><br/><span class="hl-1">    v               v               v               v</span><br/><span class="hl-3">+--------+</span><span class="hl-1">    </span><span class="hl-3">+--------+</span><span class="hl-1">    </span><span class="hl-3">+--------+</span><span class="hl-1">    </span><span class="hl-3">+--------+</span><br/><span class="hl-3">|</span><span class="hl-1"> Agent  </span><span class="hl-3">|</span><span class="hl-1">    </span><span class="hl-3">|</span><span class="hl-1"> Agent  </span><span class="hl-3">|</span><span class="hl-1">    </span><span class="hl-3">|</span><span class="hl-1"> Agent  </span><span class="hl-3">|</span><span class="hl-1">    </span><span class="hl-3">|</span><span class="hl-1"> Agent  </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1">  (</span><span class="hl-4">GMI</span><span class="hl-1">) </span><span class="hl-3">|</span><span class="hl-1">    </span><span class="hl-3">|</span><span class="hl-1">  (</span><span class="hl-4">GMI</span><span class="hl-1">) </span><span class="hl-3">|</span><span class="hl-1">    </span><span class="hl-3">|</span><span class="hl-1">  (</span><span class="hl-4">GMI</span><span class="hl-1">) </span><span class="hl-3">|</span><span class="hl-1">    </span><span class="hl-3">|</span><span class="hl-1">  (</span><span class="hl-4">GMI</span><span class="hl-1">) </span><span class="hl-3">|</span><br/><span class="hl-3">|</span><span class="hl-1"> Resrch </span><span class="hl-3">|</span><span class="hl-1">    </span><span class="hl-3">|</span><span class="hl-1"> Writer </span><span class="hl-3">|</span><span class="hl-1">    </span><span class="hl-3">|</span><span class="hl-1"> Review </span><span class="hl-3">|</span><span class="hl-1">    </span><span class="hl-3">|</span><span class="hl-1"> Deploy </span><span class="hl-3">|</span><br/><span class="hl-3">+--------+</span><span class="hl-1">    </span><span class="hl-3">+--------+</span><span class="hl-1">    </span><span class="hl-3">+--------+</span><span class="hl-1">    </span><span class="hl-3">+--------+</span><br/><span class="hl-1">    </span><span class="hl-3">|</span><span class="hl-1">               </span><span class="hl-3">|</span><span class="hl-1">               </span><span class="hl-3">|</span><span class="hl-1">               </span><span class="hl-3">|</span><br/><span class="hl-1">    </span><span class="hl-3">+-------+-------+-------+-------+-------+-------+</span><br/><span class="hl-1">            </span><span class="hl-3">|</span><span class="hl-1">                               </span><span class="hl-3">|</span><br/><span class="hl-1">            v                               v</span><br/><span class="hl-1">   </span><span class="hl-3">+------------------+</span><span class="hl-1">          </span><span class="hl-3">+--------------------+</span><br/><span class="hl-1">   </span><span class="hl-3">|</span><span class="hl-1"> Communication    </span><span class="hl-3">|</span><span class="hl-1">          </span><span class="hl-3">|</span><span class="hl-1"> Agency Memory      </span><span class="hl-3">|</span><br/><span class="hl-1">   </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-0">Bus</span><span class="hl-1"> (events,     </span><span class="hl-3">|</span><span class="hl-1">          </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-0">Manager</span><span class="hl-1"> (shared    </span><span class="hl-3">|</span><br/><span class="hl-1">   </span><span class="hl-3">|</span><span class="hl-1"> handoffs, sync)  </span><span class="hl-3">|</span><span class="hl-1">          </span><span class="hl-3">|</span><span class="hl-1"> vector memory)     </span><span class="hl-3">|</span><br/><span class="hl-1">   </span><span class="hl-3">+------------------+</span><span class="hl-1">          </span><span class="hl-3">+--------------------+</span>
</code><button>Copy</button></pre>
<p>See <a href="docs/AGENT_COMMUNICATION.md"><code>docs/AGENT_COMMUNICATION.md</code></a> for the full multi-agent specification.</p>
<hr>
<a id="md:observability" class="tsd-anchor"></a><h3><a href="#md:observability">Observability</a></h3><p><strong>Location:</strong> <code>src/core/observability/</code></p>
<p>OpenTelemetry-native observability for tracing, metrics, and cost tracking.</p>
<ul>
<li><strong>ITracer</strong> / <strong>Tracer</strong> -- Span creation and propagation for distributed tracing</li>
<li><strong>otel.ts</strong> -- <code>configureAgentOSObservability()</code> sets up the OpenTelemetry SDK with custom exporters</li>
<li><strong>Metrics</strong> -- Token usage, latency percentiles, tool execution counts, error rates</li>
<li><strong>Cost tracking</strong> -- Per-request and aggregate cost computation across providers</li>
</ul>
<pre><code class="language-typescript"><span class="hl-3">import</span><span class="hl-1"> { configureAgentOSObservability } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-0">configureAgentOSObservability</span><span class="hl-1">({</span><br/><span class="hl-1">  serviceName: </span><span class="hl-2">&#39;my-agent&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  traceExporter: myOTLPExporter,</span><br/><span class="hl-1">  metricExporter: myMetricsExporter,</span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<p>See <a href="docs/OBSERVABILITY.md"><code>docs/OBSERVABILITY.md</code></a> and <a href="docs/COST_OPTIMIZATION.md"><code>docs/COST_OPTIMIZATION.md</code></a> for setup guides.</p>
<hr>
<a id="md:skills" class="tsd-anchor"></a><h3><a href="#md:skills">Skills</a></h3><p><strong>Location:</strong> <code>src/skills/</code></p>
<p>Skills are portable, self-describing agent capabilities defined in <code>SKILL.md</code> files.</p>
<ul>
<li><strong>SkillRegistry</strong> -- Discovers and registers available skills</li>
<li><strong>SkillLoader</strong> -- Parses SKILL.md format (YAML frontmatter + markdown body)</li>
<li><strong>SKILL.md format</strong> -- Declarative skill definition with name, description, required tools, and behavioral instructions</li>
</ul>
<p>See <a href="docs/SKILLS.md"><code>docs/SKILLS.md</code></a> for the skill authoring guide.</p>
<hr>
<a id="md:structured-output" class="tsd-anchor"></a><h3><a href="#md:structured-output">Structured Output</a></h3><p><strong>Location:</strong> <code>src/core/structured/</code></p>
<p>Extract typed, validated data from unstructured text using JSON Schema.</p>
<ul>
<li><strong>StructuredOutputManager</strong> -- Coordinates schema-constrained generation with validation</li>
<li><strong>JSON Schema validation</strong> -- Input/output validation via ajv with format support</li>
<li><strong>Parallel function calls</strong> -- Multiple tool invocations in a single LLM turn</li>
<li><strong>Entity extraction</strong> -- Named entity recognition with schema constraints</li>
</ul>
<p>See <a href="docs/STRUCTURED_OUTPUT.md"><code>docs/STRUCTURED_OUTPUT.md</code></a> for usage patterns.</p>
<hr>
<a id="md:configuration" class="tsd-anchor"></a><h2><a href="#md:configuration">Configuration</a></h2><a id="md:development-quick-start" class="tsd-anchor"></a><h3><a href="#md:development-quick-start">Development (Quick Start)</a></h3><p><code>createTestAgentOSConfig()</code> provides sensible defaults for local development:</p>
<pre><code class="language-typescript"><span class="hl-3">import</span><span class="hl-1"> { AgentOS } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { createTestAgentOSConfig } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos/config/AgentOSConfig&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">agent</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">AgentOS</span><span class="hl-1">();</span><br/><span class="hl-3">await</span><span class="hl-1"> agent.</span><span class="hl-0">initialize</span><span class="hl-1">(</span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">createTestAgentOSConfig</span><span class="hl-1">());</span>
</code><button>Copy</button></pre>
<a id="md:production" class="tsd-anchor"></a><h3><a href="#md:production">Production</a></h3><p><code>createAgentOSConfig()</code> reads from environment variables:</p>
<pre><code class="language-typescript"><span class="hl-3">import</span><span class="hl-1"> { AgentOS } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { createAgentOSConfig } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos/config/AgentOSConfig&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">agent</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">AgentOS</span><span class="hl-1">();</span><br/><span class="hl-3">await</span><span class="hl-1"> agent.</span><span class="hl-0">initialize</span><span class="hl-1">(</span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">createAgentOSConfig</span><span class="hl-1">());</span>
</code><button>Copy</button></pre>
<a id="md:multiple-providers" class="tsd-anchor"></a><h3><a href="#md:multiple-providers">Multiple Providers</a></h3><p>Configure multiple LLM providers with fallback:</p>
<pre><code class="language-typescript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">agent</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">AgentOS</span><span class="hl-1">();</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">config</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">createTestAgentOSConfig</span><span class="hl-1">();</span><br/><br/><span class="hl-3">await</span><span class="hl-1"> agent.</span><span class="hl-0">initialize</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-3">...</span><span class="hl-1">config,</span><br/><span class="hl-1">  modelProviderManagerConfig: {</span><br/><span class="hl-1">    providers: [</span><br/><span class="hl-1">      { providerId: </span><span class="hl-2">&#39;openai&#39;</span><span class="hl-1">, enabled: </span><span class="hl-4">true</span><span class="hl-1">, isDefault: </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">        config: { apiKey: process.env.</span><span class="hl-4">OPENAI_API_KEY</span><span class="hl-1"> } },</span><br/><span class="hl-1">      { providerId: </span><span class="hl-2">&#39;anthropic&#39;</span><span class="hl-1">, enabled: </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">        config: { apiKey: process.env.</span><span class="hl-4">ANTHROPIC_API_KEY</span><span class="hl-1"> } },</span><br/><span class="hl-1">      { providerId: </span><span class="hl-2">&#39;ollama&#39;</span><span class="hl-1">, enabled: </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">        config: { baseUrl: </span><span class="hl-2">&#39;http://localhost:11434&#39;</span><span class="hl-1"> } },</span><br/><span class="hl-1">    ],</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  gmiManagerConfig: {</span><br/><span class="hl-1">    </span><span class="hl-3">...</span><span class="hl-1">config.gmiManagerConfig,</span><br/><span class="hl-1">    defaultGMIBaseConfigDefaults: {</span><br/><span class="hl-1">      </span><span class="hl-3">...</span><span class="hl-1">(config.gmiManagerConfig.defaultGMIBaseConfigDefaults </span><span class="hl-3">??</span><span class="hl-1"> {}),</span><br/><span class="hl-1">      defaultLlmProviderId: </span><span class="hl-2">&#39;openai&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      defaultLlmModelId: </span><span class="hl-2">&#39;gpt-4o&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// Override per request:</span><br/><span class="hl-3">for</span><span class="hl-1"> </span><span class="hl-3">await</span><span class="hl-1"> (</span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">chunk</span><span class="hl-1"> </span><span class="hl-3">of</span><span class="hl-1"> agent.</span><span class="hl-0">processRequest</span><span class="hl-1">({</span><br/><span class="hl-1">  userId: </span><span class="hl-2">&#39;user-1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  sessionId: </span><span class="hl-2">&#39;session-1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  textInput: </span><span class="hl-2">&#39;Hello&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  options: {</span><br/><span class="hl-1">    preferredProviderId: </span><span class="hl-2">&#39;anthropic&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    preferredModelId: </span><span class="hl-2">&#39;claude-sonnet-4-5-20250929&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">})) { </span><span class="hl-5">/* ... */</span><span class="hl-1"> }</span>
</code><button>Copy</button></pre>
<a id="md:environment-variables" class="tsd-anchor"></a><h3><a href="#md:environment-variables">Environment Variables</a></h3><pre><code class="language-bash"><span class="hl-5"># Required: at least one LLM provider</span><br/><span class="hl-1">OPENAI_API_KEY</span><span class="hl-3">=</span><span class="hl-2">sk-...</span><br/><span class="hl-1">ANTHROPIC_API_KEY</span><span class="hl-3">=</span><span class="hl-2">sk-ant-...</span><br/><span class="hl-1">OPENROUTER_API_KEY</span><span class="hl-3">=</span><span class="hl-2">sk-or-...</span><br/><span class="hl-1">OLLAMA_BASE_URL</span><span class="hl-3">=</span><span class="hl-2">http://localhost:11434</span><br/><br/><span class="hl-5"># Database</span><br/><span class="hl-1">DATABASE_URL</span><span class="hl-3">=</span><span class="hl-2">file:./data/agentos.db</span><br/><br/><span class="hl-5"># Observability (optional)</span><br/><span class="hl-1">OTEL_EXPORTER_OTLP_ENDPOINT</span><span class="hl-3">=</span><span class="hl-2">http://localhost:4318</span><br/><span class="hl-1">OTEL_SERVICE_NAME</span><span class="hl-3">=</span><span class="hl-2">my-agent</span><br/><br/><span class="hl-5"># Voice/Telephony (optional)</span><br/><span class="hl-1">TWILIO_ACCOUNT_SID</span><span class="hl-3">=</span><span class="hl-2">AC...</span><br/><span class="hl-1">TWILIO_AUTH_TOKEN</span><span class="hl-3">=</span><span class="hl-2">...</span><br/><span class="hl-1">TELNYX_API_KEY</span><span class="hl-3">=</span><span class="hl-2">KEY...</span>
</code><button>Copy</button></pre>
<hr>
<a id="md:api-reference" class="tsd-anchor"></a><h2><a href="#md:api-reference">API Reference</a></h2><a id="md:agentos-class" class="tsd-anchor"></a><h3><a href="#md:agentos-class">AgentOS Class</a></h3><p>The main service facade. Implements <code>IAgentOS</code>.</p>
<pre><code class="language-typescript"><span class="hl-3">class</span><span class="hl-1"> </span><span class="hl-0">AgentOS</span><span class="hl-1"> </span><span class="hl-3">implements</span><span class="hl-1"> </span><span class="hl-0">IAgentOS</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">// Lifecycle</span><br/><span class="hl-1">  </span><span class="hl-0">initialize</span><span class="hl-1">(</span><span class="hl-6">config</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">AgentOSConfig</span><span class="hl-1">)</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">void</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">  </span><span class="hl-0">shutdown</span><span class="hl-1">()</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">void</span><span class="hl-1">&gt;;</span><br/><br/><span class="hl-1">  </span><span class="hl-5">// Core interaction (streaming-first)</span><br/><span class="hl-1">  </span><span class="hl-0">processRequest</span><span class="hl-1">(</span><span class="hl-6">input</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">AgentOSInput</span><span class="hl-1">)</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">AsyncGenerator</span><span class="hl-1">&lt;</span><span class="hl-0">AgentOSResponse</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">  </span><span class="hl-0">handleToolResult</span><span class="hl-1">(</span><span class="hl-6">streamId</span><span class="hl-1">, </span><span class="hl-6">toolCallId</span><span class="hl-1">, </span><span class="hl-6">toolName</span><span class="hl-1">, </span><span class="hl-6">toolOutput</span><span class="hl-1">, </span><span class="hl-6">isSuccess</span><span class="hl-1">, </span><span class="hl-6">errorMessage</span><span class="hl-3">?</span><span class="hl-1">)</span><span class="hl-3">:</span><br/><span class="hl-1">    </span><span class="hl-0">AsyncGenerator</span><span class="hl-1">&lt;</span><span class="hl-0">AgentOSResponse</span><span class="hl-1">&gt;;</span><br/><br/><span class="hl-1">  </span><span class="hl-5">// Personas</span><br/><span class="hl-1">  </span><span class="hl-0">listPersonas</span><span class="hl-1">()</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">IPersonaDefinition</span><span class="hl-1">[];</span><br/><span class="hl-1">  </span><span class="hl-0">setActivePersona</span><span class="hl-1">(</span><span class="hl-6">personaId</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1">)</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">void</span><span class="hl-1">&gt;;</span><br/><br/><span class="hl-1">  </span><span class="hl-5">// Conversation</span><br/><span class="hl-1">  </span><span class="hl-0">getConversationHistory</span><span class="hl-1">(</span><span class="hl-6">sessionId</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1">)</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">Promise</span><span class="hl-1">&lt;</span><span class="hl-0">ConversationContext</span><span class="hl-1">&gt;;</span><br/><br/><span class="hl-1">  </span><span class="hl-5">// Workflows</span><br/><span class="hl-1">  </span><span class="hl-0">listWorkflowDefinitions</span><span class="hl-1">()</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">WorkflowDefinition</span><span class="hl-1">[];</span><br/><span class="hl-1">  </span><span class="hl-0">startWorkflow</span><span class="hl-1">(</span><span class="hl-6">definitionId</span><span class="hl-1">, </span><span class="hl-6">input</span><span class="hl-1">, </span><span class="hl-6">options</span><span class="hl-3">?</span><span class="hl-1">)</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">Promise</span><span class="hl-1">&lt;</span><span class="hl-0">WorkflowInstance</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">  </span><span class="hl-0">getWorkflow</span><span class="hl-1">(</span><span class="hl-6">workflowId</span><span class="hl-1">)</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">Promise</span><span class="hl-1">&lt;</span><span class="hl-0">WorkflowInstance</span><span class="hl-1"> </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-4">null</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">  </span><span class="hl-0">updateWorkflowTask</span><span class="hl-1">(</span><span class="hl-6">workflowId</span><span class="hl-1">, </span><span class="hl-6">taskId</span><span class="hl-1">, </span><span class="hl-6">update</span><span class="hl-1">)</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">void</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">  </span><span class="hl-0">queryWorkflows</span><span class="hl-1">(</span><span class="hl-6">options</span><span class="hl-3">?</span><span class="hl-1">)</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">Promise</span><span class="hl-1">&lt;</span><span class="hl-0">WorkflowInstance</span><span class="hl-1">[]&gt;;</span><br/><br/><span class="hl-1">  </span><span class="hl-5">// Feedback</span><br/><span class="hl-1">  </span><span class="hl-0">submitFeedback</span><span class="hl-1">(</span><span class="hl-6">feedback</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">UserFeedbackPayload</span><span class="hl-1">)</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">void</span><span class="hl-1">&gt;;</span><br/><br/><span class="hl-1">  </span><span class="hl-5">// Exposed managers (for advanced usage)</span><br/><span class="hl-1">  </span><span class="hl-3">readonly</span><span class="hl-1"> </span><span class="hl-6">llmProviderManager</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">AIModelProviderManager</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-3">readonly</span><span class="hl-1"> </span><span class="hl-6">extensionManager</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">ExtensionManager</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-3">readonly</span><span class="hl-1"> </span><span class="hl-6">conversationManager</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">ConversationManager</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<a id="md:iagentos-interface" class="tsd-anchor"></a><h3><a href="#md:iagentos-interface">IAgentOS Interface</a></h3><p>The core contract. See <code>src/api/interfaces/IAgentOS.ts</code> for the full interface definition.</p>
<a id="md:agentosinput" class="tsd-anchor"></a><h3><a href="#md:agentosinput">AgentOSInput</a></h3><pre><code class="language-typescript"><span class="hl-3">interface</span><span class="hl-1"> </span><span class="hl-0">AgentOSInput</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">userId</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">organizationId</span><span class="hl-3">?:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1">;        </span><span class="hl-5">// Multi-tenant routing</span><br/><span class="hl-1">  </span><span class="hl-6">sessionId</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">textInput</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1"> </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-4">null</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">visionInput</span><span class="hl-3">?:</span><span class="hl-1"> </span><span class="hl-0">VisionInputData</span><span class="hl-1">;  </span><span class="hl-5">// Image/video input</span><br/><span class="hl-1">  </span><span class="hl-6">audioInput</span><span class="hl-3">?:</span><span class="hl-1"> </span><span class="hl-0">AudioInputData</span><span class="hl-1">;    </span><span class="hl-5">// Audio input</span><br/><span class="hl-1">  </span><span class="hl-6">preferredPersonaId</span><span class="hl-3">?:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1">;    </span><span class="hl-5">// Request specific persona</span><br/><span class="hl-1">  </span><span class="hl-6">userApiKeys</span><span class="hl-3">?:</span><span class="hl-1"> </span><span class="hl-0">Record</span><span class="hl-1">&lt;</span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">string</span><span class="hl-1">&gt;; </span><span class="hl-5">// User-provided API keys</span><br/><span class="hl-1">  </span><span class="hl-6">feedback</span><span class="hl-3">?:</span><span class="hl-1"> </span><span class="hl-0">UserFeedbackPayload</span><span class="hl-1">; </span><span class="hl-5">// Inline feedback</span><br/><span class="hl-1">  </span><span class="hl-6">workflowInvocation</span><span class="hl-3">?:</span><span class="hl-1"> </span><span class="hl-0">WorkflowInvocationRequest</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">agencyInvocation</span><span class="hl-3">?:</span><span class="hl-1"> </span><span class="hl-0">AgencyInvocationRequest</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">memoryControl</span><span class="hl-3">?:</span><span class="hl-1"> </span><span class="hl-0">AgentOSMemoryControl</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">options</span><span class="hl-3">?:</span><span class="hl-1"> </span><span class="hl-0">ProcessingOptions</span><span class="hl-1">;    </span><span class="hl-5">// Model override, temperature, etc.</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<a id="md:agentosresponse-streaming" class="tsd-anchor"></a><h3><a href="#md:agentosresponse-streaming">AgentOSResponse Streaming</a></h3><p>All core methods return <code>AsyncGenerator&lt;AgentOSResponse&gt;</code>. Each yielded chunk has a <code>type</code> discriminant:</p>
<pre><code class="language-typescript"><span class="hl-5">// Handle all chunk types:</span><br/><span class="hl-3">for</span><span class="hl-1"> </span><span class="hl-3">await</span><span class="hl-1"> (</span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">chunk</span><span class="hl-1"> </span><span class="hl-3">of</span><span class="hl-1"> agent.</span><span class="hl-0">processRequest</span><span class="hl-1">(input)) {</span><br/><span class="hl-1">  </span><span class="hl-3">switch</span><span class="hl-1"> (chunk.type) {</span><br/><span class="hl-1">    </span><span class="hl-3">case</span><span class="hl-1"> AgentOSResponseChunkType.</span><span class="hl-4">TEXT_DELTA</span><span class="hl-1">:</span><br/><span class="hl-1">      process.stdout.</span><span class="hl-0">write</span><span class="hl-1">(chunk.textDelta);</span><br/><span class="hl-1">      </span><span class="hl-3">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-3">case</span><span class="hl-1"> AgentOSResponseChunkType.</span><span class="hl-4">TOOL_CALL_REQUEST</span><span class="hl-1">:</span><br/><span class="hl-1">      console.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Tools requested:&#39;</span><span class="hl-1">, chunk.toolCalls);</span><br/><span class="hl-1">      </span><span class="hl-3">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-3">case</span><span class="hl-1"> AgentOSResponseChunkType.</span><span class="hl-4">TOOL_RESULT_EMISSION</span><span class="hl-1">:</span><br/><span class="hl-1">      console.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Tool result:&#39;</span><span class="hl-1">, chunk.toolName, chunk.toolResult);</span><br/><span class="hl-1">      </span><span class="hl-3">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-3">case</span><span class="hl-1"> AgentOSResponseChunkType.</span><span class="hl-4">SYSTEM_PROGRESS</span><span class="hl-1">:</span><br/><span class="hl-1">      console.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Progress:&#39;</span><span class="hl-1">, chunk.message, chunk.progressPercentage);</span><br/><span class="hl-1">      </span><span class="hl-3">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-3">case</span><span class="hl-1"> AgentOSResponseChunkType.</span><span class="hl-4">WORKFLOW_UPDATE</span><span class="hl-1">:</span><br/><span class="hl-1">      console.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Workflow:&#39;</span><span class="hl-1">, chunk.workflowProgress);</span><br/><span class="hl-1">      </span><span class="hl-3">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-3">case</span><span class="hl-1"> AgentOSResponseChunkType.</span><span class="hl-4">AGENCY_UPDATE</span><span class="hl-1">:</span><br/><span class="hl-1">      console.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Agency event:&#39;</span><span class="hl-1">, chunk.agencyEvent);</span><br/><span class="hl-1">      </span><span class="hl-3">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-3">case</span><span class="hl-1"> AgentOSResponseChunkType.</span><span class="hl-4">ERROR</span><span class="hl-1">:</span><br/><span class="hl-1">      console.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-2">&#39;Error:&#39;</span><span class="hl-1">, chunk.error);</span><br/><span class="hl-1">      </span><span class="hl-3">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-3">case</span><span class="hl-1"> AgentOSResponseChunkType.</span><span class="hl-4">FINAL_RESPONSE</span><span class="hl-1">:</span><br/><span class="hl-1">      console.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Complete:&#39;</span><span class="hl-1">, chunk.finalText);</span><br/><span class="hl-1">      </span><span class="hl-3">break</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<a id="md:itool-interface" class="tsd-anchor"></a><h3><a href="#md:itool-interface">ITool Interface</a></h3><p>See the <a href="#md:tool-system">Tool System</a> section above for the full interface. Tools are registered via extension packs:</p>
<pre><code class="language-typescript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">descriptor</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">ExtensionDescriptor</span><span class="hl-1">&lt;</span><span class="hl-0">ITool</span><span class="hl-1">&gt; </span><span class="hl-3">=</span><span class="hl-1"> {</span><br/><span class="hl-1">  id: </span><span class="hl-2">&#39;my-tool&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  kind: </span><span class="hl-4">EXTENSION_KIND_TOOL</span><span class="hl-1">,</span><br/><span class="hl-1">  payload: myToolImplementation,</span><br/><span class="hl-1">};</span>
</code><button>Copy</button></pre>
<a id="md:extensiondescriptor" class="tsd-anchor"></a><h3><a href="#md:extensiondescriptor">ExtensionDescriptor</a></h3><p>See the <a href="#md:extension-system">Extension System</a> section above for the full type definition and all 12 extension kinds.</p>
<a id="md:iguardrailservice" class="tsd-anchor"></a><h3><a href="#md:iguardrailservice">IGuardrailService</a></h3><pre><code class="language-typescript"><span class="hl-3">interface</span><span class="hl-1"> </span><span class="hl-0">IGuardrailService</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">evaluateInput</span><span class="hl-3">?</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-6">input</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">AgentOSInput</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">context</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">GuardrailContext</span><span class="hl-1">,</span><br/><span class="hl-1">  )</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">Promise</span><span class="hl-1">&lt;</span><span class="hl-0">GuardrailEvaluationResult</span><span class="hl-1">&gt;;</span><br/><br/><span class="hl-1">  </span><span class="hl-0">evaluateOutput</span><span class="hl-3">?</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-6">output</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">context</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">GuardrailContext</span><span class="hl-1">,</span><br/><span class="hl-1">  )</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">Promise</span><span class="hl-1">&lt;</span><span class="hl-0">GuardrailEvaluationResult</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">interface</span><span class="hl-1"> </span><span class="hl-0">GuardrailEvaluationResult</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">action</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">GuardrailAction</span><span class="hl-1">;        </span><span class="hl-5">// ALLOW | FLAG | SANITIZE | BLOCK</span><br/><span class="hl-1">  </span><span class="hl-6">reason</span><span class="hl-3">?:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1">;                </span><span class="hl-5">// Human-readable explanation</span><br/><span class="hl-1">  </span><span class="hl-6">reasonCode</span><span class="hl-3">?:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1">;            </span><span class="hl-5">// Machine-readable code</span><br/><span class="hl-1">  </span><span class="hl-6">modifiedText</span><span class="hl-3">?:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1">;          </span><span class="hl-5">// Required when action is SANITIZE</span><br/><span class="hl-1">  </span><span class="hl-6">metadata</span><span class="hl-3">?:</span><span class="hl-1"> </span><span class="hl-0">Record</span><span class="hl-1">&lt;</span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">any</span><span class="hl-1">&gt;; </span><span class="hl-5">// Additional context for logging</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<a id="md:ihumaninteractionmanager" class="tsd-anchor"></a><h3><a href="#md:ihumaninteractionmanager">IHumanInteractionManager</a></h3><pre><code class="language-typescript"><span class="hl-3">interface</span><span class="hl-1"> </span><span class="hl-0">IHumanInteractionManager</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">requestApproval</span><span class="hl-1">(</span><span class="hl-6">action</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">PendingAction</span><span class="hl-1">)</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">Promise</span><span class="hl-1">&lt;</span><span class="hl-0">ApprovalDecision</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">  </span><span class="hl-0">requestClarification</span><span class="hl-1">(</span><span class="hl-6">request</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">ClarificationRequest</span><span class="hl-1">)</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">Promise</span><span class="hl-1">&lt;</span><span class="hl-0">ClarificationResponse</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">  </span><span class="hl-0">escalateToHuman</span><span class="hl-1">(</span><span class="hl-6">context</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">EscalationContext</span><span class="hl-1">)</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">Promise</span><span class="hl-1">&lt;</span><span class="hl-0">EscalationResult</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">  </span><span class="hl-0">getPendingActions</span><span class="hl-1">()</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">Promise</span><span class="hl-1">&lt;</span><span class="hl-0">PendingAction</span><span class="hl-1">[]&gt;;</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<hr>
<a id="md:usage-examples" class="tsd-anchor"></a><h2><a href="#md:usage-examples">Usage Examples</a></h2><a id="md:streaming-chat" class="tsd-anchor"></a><h3><a href="#md:streaming-chat">Streaming Chat</a></h3><pre><code class="language-typescript"><span class="hl-3">import</span><span class="hl-1"> { AgentOS, AgentOSResponseChunkType } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { createTestAgentOSConfig } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos/config/AgentOSConfig&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">agent</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">AgentOS</span><span class="hl-1">();</span><br/><span class="hl-3">await</span><span class="hl-1"> agent.</span><span class="hl-0">initialize</span><span class="hl-1">(</span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">createTestAgentOSConfig</span><span class="hl-1">());</span><br/><br/><span class="hl-3">for</span><span class="hl-1"> </span><span class="hl-3">await</span><span class="hl-1"> (</span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">chunk</span><span class="hl-1"> </span><span class="hl-3">of</span><span class="hl-1"> agent.</span><span class="hl-0">processRequest</span><span class="hl-1">({</span><br/><span class="hl-1">  userId: </span><span class="hl-2">&#39;user-1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  sessionId: </span><span class="hl-2">&#39;session-1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  textInput: </span><span class="hl-2">&#39;Explain how TCP handshakes work&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">})) {</span><br/><span class="hl-1">  </span><span class="hl-3">if</span><span class="hl-1"> (chunk.type </span><span class="hl-3">===</span><span class="hl-1"> AgentOSResponseChunkType.</span><span class="hl-4">TEXT_DELTA</span><span class="hl-1">) {</span><br/><span class="hl-1">    process.stdout.</span><span class="hl-0">write</span><span class="hl-1">(chunk.textDelta);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<a id="md:adding-tools" class="tsd-anchor"></a><h3><a href="#md:adding-tools">Adding Tools</a></h3><p>Tools are registered via extension packs and called automatically by the model:</p>
<pre><code class="language-typescript"><span class="hl-3">import</span><span class="hl-1"> {</span><br/><span class="hl-1">  AgentOS,</span><br/><span class="hl-1">  AgentOSResponseChunkType,</span><br/><span class="hl-1">  EXTENSION_KIND_TOOL,</span><br/><span class="hl-1">  </span><span class="hl-3">type</span><span class="hl-1"> ExtensionManifest,</span><br/><span class="hl-1">  </span><span class="hl-3">type</span><span class="hl-1"> ExtensionPack,</span><br/><span class="hl-1">  </span><span class="hl-3">type</span><span class="hl-1"> ITool,</span><br/><span class="hl-1">} </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { createTestAgentOSConfig } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos/config/AgentOSConfig&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">weatherTool</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">ITool</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> {</span><br/><span class="hl-1">  id: </span><span class="hl-2">&#39;get-weather&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  name: </span><span class="hl-2">&#39;get_weather&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  displayName: </span><span class="hl-2">&#39;Get Weather&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  description: </span><span class="hl-2">&#39;Returns current weather for a city.&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  category: </span><span class="hl-2">&#39;utility&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  hasSideEffects: </span><span class="hl-4">false</span><span class="hl-1">,</span><br/><span class="hl-1">  inputSchema: {</span><br/><span class="hl-1">    type: </span><span class="hl-2">&#39;object&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    properties: { city: { type: </span><span class="hl-2">&#39;string&#39;</span><span class="hl-1">, description: </span><span class="hl-2">&#39;City name&#39;</span><span class="hl-1"> } },</span><br/><span class="hl-1">    required: [</span><span class="hl-2">&#39;city&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-0">execute</span><span class="hl-1">: </span><span class="hl-3">async</span><span class="hl-1"> (</span><span class="hl-6">args</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> ({</span><br/><span class="hl-1">    success: </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">    output: { text: </span><span class="hl-2">`Weather in ${</span><span class="hl-1">args</span><span class="hl-2">.</span><span class="hl-1">city</span><span class="hl-2">}: 22 C, partly cloudy`</span><span class="hl-1"> },</span><br/><span class="hl-1">  }),</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">manifest</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">ExtensionManifest</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> {</span><br/><span class="hl-1">  packs: [{</span><br/><span class="hl-1">    </span><span class="hl-0">factory</span><span class="hl-1">: </span><span class="hl-3">async</span><span class="hl-1"> () </span><span class="hl-3">=&gt;</span><span class="hl-1"> ({</span><br/><span class="hl-1">      name: </span><span class="hl-2">&#39;my-tools&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      descriptors: [{ id: weatherTool.id, kind: </span><span class="hl-4">EXTENSION_KIND_TOOL</span><span class="hl-1">, payload: weatherTool }],</span><br/><span class="hl-1">    } </span><span class="hl-3">satisfies</span><span class="hl-1"> </span><span class="hl-0">ExtensionPack</span><span class="hl-1">),</span><br/><span class="hl-1">  }],</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">agent</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">AgentOS</span><span class="hl-1">();</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">config</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">createTestAgentOSConfig</span><span class="hl-1">();</span><br/><span class="hl-3">await</span><span class="hl-1"> agent.</span><span class="hl-0">initialize</span><span class="hl-1">({ </span><span class="hl-3">...</span><span class="hl-1">config, extensionManifest: manifest });</span><br/><br/><span class="hl-3">for</span><span class="hl-1"> </span><span class="hl-3">await</span><span class="hl-1"> (</span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">chunk</span><span class="hl-1"> </span><span class="hl-3">of</span><span class="hl-1"> agent.</span><span class="hl-0">processRequest</span><span class="hl-1">({</span><br/><span class="hl-1">  userId: </span><span class="hl-2">&#39;user-1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  sessionId: </span><span class="hl-2">&#39;session-1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  textInput: </span><span class="hl-2">&#39;What is the weather in Tokyo?&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">})) {</span><br/><span class="hl-1">  </span><span class="hl-3">switch</span><span class="hl-1"> (chunk.type) {</span><br/><span class="hl-1">    </span><span class="hl-3">case</span><span class="hl-1"> AgentOSResponseChunkType.</span><span class="hl-4">TEXT_DELTA</span><span class="hl-1">:</span><br/><span class="hl-1">      process.stdout.</span><span class="hl-0">write</span><span class="hl-1">(chunk.textDelta);</span><br/><span class="hl-1">      </span><span class="hl-3">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-3">case</span><span class="hl-1"> AgentOSResponseChunkType.</span><span class="hl-4">TOOL_CALL_REQUEST</span><span class="hl-1">:</span><br/><span class="hl-1">      console.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Tool calls:&#39;</span><span class="hl-1">, chunk.toolCalls);</span><br/><span class="hl-1">      </span><span class="hl-3">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-3">case</span><span class="hl-1"> AgentOSResponseChunkType.</span><span class="hl-4">TOOL_RESULT_EMISSION</span><span class="hl-1">:</span><br/><span class="hl-1">      console.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Tool result:&#39;</span><span class="hl-1">, chunk.toolResult);</span><br/><span class="hl-1">      </span><span class="hl-3">break</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<a id="md:multi-agent-collaboration" class="tsd-anchor"></a><h3><a href="#md:multi-agent-collaboration">Multi-Agent Collaboration</a></h3><pre><code class="language-typescript"><span class="hl-3">import</span><span class="hl-1"> { AgentOS, AgencyRegistry, AgentCommunicationBus } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { createTestAgentOSConfig } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos/config/AgentOSConfig&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">config</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">createTestAgentOSConfig</span><span class="hl-1">();</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">researcher</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">AgentOS</span><span class="hl-1">();</span><br/><span class="hl-3">await</span><span class="hl-1"> researcher.</span><span class="hl-0">initialize</span><span class="hl-1">(config);</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">writer</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">AgentOS</span><span class="hl-1">();</span><br/><span class="hl-3">await</span><span class="hl-1"> writer.</span><span class="hl-0">initialize</span><span class="hl-1">(config);</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">agency</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">AgencyRegistry</span><span class="hl-1">();</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">bus</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">AgentCommunicationBus</span><span class="hl-1">();</span><br/><span class="hl-1">agency.</span><span class="hl-0">register</span><span class="hl-1">(</span><span class="hl-2">&#39;researcher&#39;</span><span class="hl-1">, researcher, { bus });</span><br/><span class="hl-1">agency.</span><span class="hl-0">register</span><span class="hl-1">(</span><span class="hl-2">&#39;writer&#39;</span><span class="hl-1">, writer, { bus });</span><br/><br/><span class="hl-5">// Agents coordinate via message passing</span><br/><span class="hl-1">bus.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&#39;research:complete&#39;</span><span class="hl-1">, </span><span class="hl-3">async</span><span class="hl-1"> ({ </span><span class="hl-6">findings</span><span class="hl-1"> }) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">for</span><span class="hl-1"> </span><span class="hl-3">await</span><span class="hl-1"> (</span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">chunk</span><span class="hl-1"> </span><span class="hl-3">of</span><span class="hl-1"> writer.</span><span class="hl-0">processRequest</span><span class="hl-1">({</span><br/><span class="hl-1">    userId: </span><span class="hl-2">&#39;system&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    sessionId: </span><span class="hl-2">&#39;collab-1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    textInput: </span><span class="hl-2">`Write documentation based on: ${</span><span class="hl-4">JSON</span><span class="hl-2">.</span><span class="hl-0">stringify</span><span class="hl-2">(</span><span class="hl-1">findings</span><span class="hl-2">)</span><span class="hl-2">}`</span><span class="hl-1">,</span><br/><span class="hl-1">  })) { </span><span class="hl-5">/* handle chunks */</span><span class="hl-1"> }</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">for</span><span class="hl-1"> </span><span class="hl-3">await</span><span class="hl-1"> (</span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">chunk</span><span class="hl-1"> </span><span class="hl-3">of</span><span class="hl-1"> researcher.</span><span class="hl-0">processRequest</span><span class="hl-1">({</span><br/><span class="hl-1">  userId: </span><span class="hl-2">&#39;system&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  sessionId: </span><span class="hl-2">&#39;collab-1&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  textInput: </span><span class="hl-2">&#39;Analyze the authentication module&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">})) { </span><span class="hl-5">/* handle chunks */</span><span class="hl-1"> }</span>
</code><button>Copy</button></pre>
<a id="md:human-in-the-loop-approvals" class="tsd-anchor"></a><h3><a href="#md:human-in-the-loop-approvals">Human-in-the-Loop Approvals</a></h3><pre><code class="language-typescript"><span class="hl-3">import</span><span class="hl-1"> { HumanInteractionManager } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">hitl</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">HumanInteractionManager</span><span class="hl-1">({ defaultTimeoutMs: </span><span class="hl-4">300_000</span><span class="hl-1"> });</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">decision</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">await</span><span class="hl-1"> hitl.</span><span class="hl-0">requestApproval</span><span class="hl-1">({</span><br/><span class="hl-1">  actionId: </span><span class="hl-2">&#39;archive-inactive&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  description: </span><span class="hl-2">&#39;Archive 50K inactive accounts older than 2 years&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  severity: </span><span class="hl-2">&#39;high&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  category: </span><span class="hl-2">&#39;data_modification&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  agentId: </span><span class="hl-2">&#39;data-cleanup-agent&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  context: { affectedRows: </span><span class="hl-4">50_000</span><span class="hl-1">, table: </span><span class="hl-2">&#39;users&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">  reversible: </span><span class="hl-4">true</span><span class="hl-1">,</span><br/><span class="hl-1">  potentialConsequences: [</span><span class="hl-2">&#39;Users will lose access to archived data&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">  alternatives: [</span><br/><span class="hl-1">    { alternativeId: </span><span class="hl-2">&#39;soft_delete&#39;</span><span class="hl-1">, description: </span><span class="hl-2">&#39;Mark as inactive instead&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">    { alternativeId: </span><span class="hl-2">&#39;export_first&#39;</span><span class="hl-1">, description: </span><span class="hl-2">&#39;Export to CSV before archiving&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">  ],</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">if</span><span class="hl-1"> (decision.approved) {</span><br/><span class="hl-1">  </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">executeArchive</span><span class="hl-1">();</span><br/><span class="hl-1">} </span><span class="hl-3">else</span><span class="hl-1"> </span><span class="hl-3">if</span><span class="hl-1"> (decision.selectedAlternative) {</span><br/><span class="hl-1">  </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">executeAlternative</span><span class="hl-1">(decision.selectedAlternative);</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<a id="md:structured-data-extraction" class="tsd-anchor"></a><h3><a href="#md:structured-data-extraction">Structured Data Extraction</a></h3><pre><code class="language-typescript"><span class="hl-3">import</span><span class="hl-1"> { AgentOS, StructuredOutputManager } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { createTestAgentOSConfig } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos/config/AgentOSConfig&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">agent</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">AgentOS</span><span class="hl-1">();</span><br/><span class="hl-3">await</span><span class="hl-1"> agent.</span><span class="hl-0">initialize</span><span class="hl-1">(</span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">createTestAgentOSConfig</span><span class="hl-1">());</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">structured</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">StructuredOutputManager</span><span class="hl-1">({</span><br/><span class="hl-1">  llmProviderManager: agent.llmProviderManager,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">contact</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">await</span><span class="hl-1"> structured.</span><span class="hl-0">generate</span><span class="hl-1">({</span><br/><span class="hl-1">  prompt: </span><span class="hl-2">&#39;Extract: &quot;Meeting with Sarah Chen (sarah@startup.io) on Jan 15 re: Series A&quot;&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  schema: {</span><br/><span class="hl-1">    type: </span><span class="hl-2">&#39;object&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    properties: {</span><br/><span class="hl-1">      name: { type: </span><span class="hl-2">&#39;string&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">      email: { type: </span><span class="hl-2">&#39;string&#39;</span><span class="hl-1">, format: </span><span class="hl-2">&#39;email&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">      date: { type: </span><span class="hl-2">&#39;string&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">      topic: { type: </span><span class="hl-2">&#39;string&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    required: [</span><span class="hl-2">&#39;name&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;email&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  schemaName: </span><span class="hl-2">&#39;ContactInfo&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><span class="hl-5">// Result: { name: &#39;Sarah Chen&#39;, email: &#39;sarah@startup.io&#39;, date: &#39;Jan 15&#39;, topic: &#39;Series A&#39; }</span>
</code><button>Copy</button></pre>
<a id="md:rag-memory" class="tsd-anchor"></a><h3><a href="#md:rag-memory">RAG Memory</a></h3><pre><code class="language-typescript"><span class="hl-3">import</span><span class="hl-1"> { AgentOS } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { createTestAgentOSConfig } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos/config/AgentOSConfig&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">agent</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">AgentOS</span><span class="hl-1">();</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">config</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">createTestAgentOSConfig</span><span class="hl-1">();</span><br/><br/><span class="hl-3">await</span><span class="hl-1"> agent.</span><span class="hl-0">initialize</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-3">...</span><span class="hl-1">config,</span><br/><span class="hl-1">  ragConfig: {</span><br/><span class="hl-1">    embeddingManagerConfig: {</span><br/><span class="hl-1">      embeddingModels: [</span><br/><span class="hl-1">        { modelId: </span><span class="hl-2">&#39;text-embedding-3-small&#39;</span><span class="hl-1">, providerId: </span><span class="hl-2">&#39;openai&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">          dimension: </span><span class="hl-4">1536</span><span class="hl-1">, isDefault: </span><span class="hl-4">true</span><span class="hl-1"> },</span><br/><span class="hl-1">      ],</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    vectorStoreManagerConfig: {</span><br/><span class="hl-1">      managerId: </span><span class="hl-2">&#39;rag-vsm&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      providers: [</span><br/><span class="hl-1">        { id: </span><span class="hl-2">&#39;sql-store&#39;</span><span class="hl-1">, type: </span><span class="hl-2">&#39;sql&#39;</span><span class="hl-1">, storage: { filePath: </span><span class="hl-2">&#39;./data/vectors.db&#39;</span><span class="hl-1"> } },</span><br/><span class="hl-1">      ],</span><br/><span class="hl-1">      defaultProviderId: </span><span class="hl-2">&#39;sql-store&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      defaultEmbeddingDimension: </span><span class="hl-4">1536</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    dataSourceConfigs: [{</span><br/><span class="hl-1">      dataSourceId: </span><span class="hl-2">&#39;conversations&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      displayName: </span><span class="hl-2">&#39;Conversation Memory&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      vectorStoreProviderId: </span><span class="hl-2">&#39;sql-store&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      actualNameInProvider: </span><span class="hl-2">&#39;conversations&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      embeddingDimension: </span><span class="hl-4">1536</span><span class="hl-1">,</span><br/><span class="hl-1">    }],</span><br/><span class="hl-1">    retrievalAugmentorConfig: {</span><br/><span class="hl-1">      defaultDataSourceId: </span><span class="hl-2">&#39;conversations&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      categoryBehaviors: [],</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// Agent now retrieves relevant context from vector memory before responding</span>
</code><button>Copy</button></pre>
<a id="md:custom-guardrails" class="tsd-anchor"></a><h3><a href="#md:custom-guardrails">Custom Guardrails</a></h3><pre><code class="language-typescript"><span class="hl-3">import</span><span class="hl-1"> {</span><br/><span class="hl-1">  AgentOS,</span><br/><span class="hl-1">  </span><span class="hl-3">type</span><span class="hl-1"> IGuardrailService,</span><br/><span class="hl-1">  </span><span class="hl-3">type</span><span class="hl-1"> GuardrailContext,</span><br/><span class="hl-1">  GuardrailAction,</span><br/><span class="hl-1">} </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { createTestAgentOSConfig } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos/config/AgentOSConfig&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">piiGuardrail</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">IGuardrailService</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-0">evaluateInput</span><span class="hl-1">(</span><span class="hl-6">input</span><span class="hl-1">, </span><span class="hl-6">context</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">// Check for SSN patterns in user input</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">ssnPattern</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-7"> </span><span class="hl-2">/</span><span class="hl-3">\b</span><span class="hl-4">\d</span><span class="hl-3">{3}</span><span class="hl-7">-</span><span class="hl-4">\d</span><span class="hl-3">{2}</span><span class="hl-7">-</span><span class="hl-4">\d</span><span class="hl-3">{4}\b</span><span class="hl-2">/</span><span class="hl-3">g</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-3">if</span><span class="hl-1"> (input.textInput </span><span class="hl-3">&amp;&amp;</span><span class="hl-1"> ssnPattern.</span><span class="hl-0">test</span><span class="hl-1">(input.textInput)) {</span><br/><span class="hl-1">      </span><span class="hl-3">return</span><span class="hl-1"> {</span><br/><span class="hl-1">        action: GuardrailAction.</span><span class="hl-4">SANITIZE</span><span class="hl-1">,</span><br/><span class="hl-1">        modifiedText: input.textInput.</span><span class="hl-0">replace</span><span class="hl-1">(ssnPattern, </span><span class="hl-2">&#39;[SSN REDACTED]&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">        reason: </span><span class="hl-2">&#39;PII detected in user input&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        reasonCode: </span><span class="hl-2">&#39;PII_SSN&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      };</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> { action: GuardrailAction.</span><span class="hl-4">ALLOW</span><span class="hl-1"> };</span><br/><span class="hl-1">  },</span><br/><br/><span class="hl-1">  </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-0">evaluateOutput</span><span class="hl-1">(</span><span class="hl-6">output</span><span class="hl-1">, </span><span class="hl-6">context</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-3">if</span><span class="hl-1"> (output.</span><span class="hl-0">toLowerCase</span><span class="hl-1">().</span><span class="hl-0">includes</span><span class="hl-1">(</span><span class="hl-2">&#39;password&#39;</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-3">return</span><span class="hl-1"> {</span><br/><span class="hl-1">        action: GuardrailAction.</span><span class="hl-4">BLOCK</span><span class="hl-1">,</span><br/><span class="hl-1">        reason: </span><span class="hl-2">&#39;Output contains potentially sensitive credential information&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        reasonCode: </span><span class="hl-2">&#39;CREDENTIAL_LEAK&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      };</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> { action: GuardrailAction.</span><span class="hl-4">ALLOW</span><span class="hl-1"> };</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">agent</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">AgentOS</span><span class="hl-1">();</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">config</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">createTestAgentOSConfig</span><span class="hl-1">();</span><br/><span class="hl-3">await</span><span class="hl-1"> agent.</span><span class="hl-0">initialize</span><span class="hl-1">({ </span><span class="hl-3">...</span><span class="hl-1">config, guardrailService: piiGuardrail });</span>
</code><button>Copy</button></pre>
<a id="md:channel-adapters" class="tsd-anchor"></a><h3><a href="#md:channel-adapters">Channel Adapters</a></h3><pre><code class="language-typescript"><span class="hl-3">import</span><span class="hl-1"> {</span><br/><span class="hl-1">  EXTENSION_KIND_MESSAGING_CHANNEL,</span><br/><span class="hl-1">  </span><span class="hl-3">type</span><span class="hl-1"> ExtensionManifest,</span><br/><span class="hl-1">  </span><span class="hl-3">type</span><span class="hl-1"> IChannelAdapter,</span><br/><span class="hl-1">  </span><span class="hl-3">type</span><span class="hl-1"> ChannelPlatform,</span><br/><span class="hl-1">} </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Implement a custom channel adapter</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">myAdapter</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">IChannelAdapter</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> {</span><br/><span class="hl-1">  platform: </span><span class="hl-2">&#39;webchat&#39;</span><span class="hl-1"> </span><span class="hl-3">as</span><span class="hl-1"> </span><span class="hl-0">ChannelPlatform</span><span class="hl-1">,</span><br/><span class="hl-1">  capabilities: </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Set</span><span class="hl-1">([</span><span class="hl-2">&#39;text&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;rich_text&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;images&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;typing_indicator&#39;</span><span class="hl-1">]),</span><br/><br/><span class="hl-1">  </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-0">connect</span><span class="hl-1">() { </span><span class="hl-5">/* establish connection */</span><span class="hl-1"> },</span><br/><span class="hl-1">  </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-0">disconnect</span><span class="hl-1">() { </span><span class="hl-5">/* clean up */</span><span class="hl-1"> },</span><br/><span class="hl-1">  </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-0">sendMessage</span><span class="hl-1">(</span><span class="hl-6">channelId</span><span class="hl-1">, </span><span class="hl-6">message</span><span class="hl-1">) { </span><span class="hl-5">/* send outbound */</span><span class="hl-1"> },</span><br/><span class="hl-1">  </span><span class="hl-0">onMessage</span><span class="hl-1">(</span><span class="hl-6">handler</span><span class="hl-1">) { </span><span class="hl-5">/* register inbound handler */</span><span class="hl-1"> },</span><br/><span class="hl-1">  </span><span class="hl-0">getConnectionInfo</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> { status: </span><span class="hl-2">&#39;connected&#39;</span><span class="hl-1">, connectedSince: </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Date</span><span class="hl-1">().</span><span class="hl-0">toISOString</span><span class="hl-1">() };</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-5">// Register via extension manifest</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">manifest</span><span class="hl-3">:</span><span class="hl-1"> </span><span class="hl-0">ExtensionManifest</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> {</span><br/><span class="hl-1">  packs: [{</span><br/><span class="hl-1">    </span><span class="hl-0">factory</span><span class="hl-1">: </span><span class="hl-3">async</span><span class="hl-1"> () </span><span class="hl-3">=&gt;</span><span class="hl-1"> ({</span><br/><span class="hl-1">      name: </span><span class="hl-2">&#39;my-channels&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      descriptors: [{</span><br/><span class="hl-1">        id: </span><span class="hl-2">&#39;webchat-adapter&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        kind: </span><span class="hl-4">EXTENSION_KIND_MESSAGING_CHANNEL</span><span class="hl-1">,</span><br/><span class="hl-1">        payload: myAdapter,</span><br/><span class="hl-1">      }],</span><br/><span class="hl-1">    }),</span><br/><span class="hl-1">  }],</span><br/><span class="hl-1">};</span>
</code><button>Copy</button></pre>
<a id="md:voice-calls" class="tsd-anchor"></a><h3><a href="#md:voice-calls">Voice Calls</a></h3><pre><code class="language-typescript"><span class="hl-3">import</span><span class="hl-1"> { CallManager, </span><span class="hl-3">type</span><span class="hl-1"> IVoiceCallProvider } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">callManager</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">CallManager</span><span class="hl-1">();</span><br/><br/><span class="hl-5">// Initiate an outbound call</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">call</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">await</span><span class="hl-1"> callManager.</span><span class="hl-0">initiateCall</span><span class="hl-1">({</span><br/><span class="hl-1">  provider: </span><span class="hl-2">&#39;twilio&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  to: </span><span class="hl-2">&#39;+1234567890&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  from: </span><span class="hl-2">&#39;+0987654321&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  agentId: </span><span class="hl-2">&#39;support-agent&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// Monitor call state transitions</span><br/><span class="hl-1">call.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&#39;stateChange&#39;</span><span class="hl-1">, (</span><span class="hl-6">newState</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  console.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Call ${</span><span class="hl-1">call</span><span class="hl-2">.</span><span class="hl-1">id</span><span class="hl-2">}: ${</span><span class="hl-1">newState</span><span class="hl-2">}`</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-5">// initiated -&gt; ringing -&gt; answered -&gt; active -&gt; speaking &lt;-&gt; listening -&gt; completed</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">// Handle call completion</span><br/><span class="hl-1">call.</span><span class="hl-0">on</span><span class="hl-1">(</span><span class="hl-2">&#39;completed&#39;</span><span class="hl-1">, (</span><span class="hl-6">summary</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  console.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Duration:&#39;</span><span class="hl-1">, summary.durationMs);</span><br/><span class="hl-1">  console.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Transcript:&#39;</span><span class="hl-1">, summary.transcript);</span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<hr>
<a id="md:package-exports" class="tsd-anchor"></a><h2><a href="#md:package-exports">Package Exports</a></h2><p>AgentOS provides 112 export paths for fine-grained imports. Key entry points:</p>
<pre><code class="language-typescript"><span class="hl-5">// Main entry -- all public types and classes</span><br/><span class="hl-3">import</span><span class="hl-1"> { AgentOS, AgentOSResponseChunkType, </span><span class="hl-5">/* ... */</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Configuration</span><br/><span class="hl-3">import</span><span class="hl-1"> { createAgentOSConfig, createTestAgentOSConfig } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos/config/AgentOSConfig&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Safety primitives</span><br/><span class="hl-3">import</span><span class="hl-1"> { CircuitBreaker, CostGuard, StuckDetector } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos/core/safety&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Guardrails</span><br/><span class="hl-3">import</span><span class="hl-1"> { GuardrailAction } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos/core/guardrails&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Tools</span><br/><span class="hl-3">import</span><span class="hl-1"> </span><span class="hl-3">type</span><span class="hl-1"> { ITool, ToolExecutionResult } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos/core/tools&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// HITL</span><br/><span class="hl-3">import</span><span class="hl-1"> </span><span class="hl-3">type</span><span class="hl-1"> { IHumanInteractionManager } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos/core/hitl&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// RAG</span><br/><span class="hl-3">import</span><span class="hl-1"> { VectorStoreManager, EmbeddingManager, RetrievalAugmentor } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos/rag&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { GraphRAGEngine } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos/rag/graphrag&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Skills</span><br/><span class="hl-3">import</span><span class="hl-1"> { SkillRegistry, SkillLoader } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos/skills&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">// Deep imports (wildcard exports)</span><br/><span class="hl-3">import</span><span class="hl-1"> { SomeType } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos/core/safety/CircuitBreaker&#39;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> { SomeConfig } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@framers/agentos/config/ToolOrchestratorConfig&#39;</span><span class="hl-1">;</span>
</code><button>Copy</button></pre>
<p>Wildcard exports support paths up to 4 levels deep:</p>
<ul>
<li><code>./*</code> -- <code>dist/*.js</code></li>
<li><code>./*/*</code> -- <code>dist/*/*.js</code></li>
<li><code>./*/*/*</code> -- <code>dist/*/*/*.js</code></li>
<li><code>./*/*/*/*</code> -- <code>dist/*/*/*/*.js</code></li>
</ul>
<hr>
<a id="md:internal-documentation" class="tsd-anchor"></a><h2><a href="#md:internal-documentation">Internal Documentation</a></h2><p>The <code>docs/</code> directory contains 25 detailed specification documents:</p>
<table>
<thead>
<tr>
<th>Document</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><a href="docs/ARCHITECTURE.md"><code>ARCHITECTURE.md</code></a></td>
<td>Complete system architecture with data flow diagrams</td>
</tr>
<tr>
<td><a href="docs/SAFETY_PRIMITIVES.md"><code>SAFETY_PRIMITIVES.md</code></a></td>
<td>Circuit breaker, cost guard, stuck detection, dedup API reference</td>
</tr>
<tr>
<td><a href="docs/PLANNING_ENGINE.md"><code>PLANNING_ENGINE.md</code></a></td>
<td>ReAct reasoning, multi-step task planning specification</td>
</tr>
<tr>
<td><a href="docs/HUMAN_IN_THE_LOOP.md"><code>HUMAN_IN_THE_LOOP.md</code></a></td>
<td>Approval workflows, clarification, escalation patterns</td>
</tr>
<tr>
<td><a href="docs/GUARDRAILS_USAGE.md"><code>GUARDRAILS_USAGE.md</code></a></td>
<td>Input/output guardrail implementation patterns</td>
</tr>
<tr>
<td><a href="docs/RAG_MEMORY_CONFIGURATION.md"><code>RAG_MEMORY_CONFIGURATION.md</code></a></td>
<td>Vector store setup, embedding models, data source config</td>
</tr>
<tr>
<td><a href="docs/MULTIMODAL_RAG.md"><code>MULTIMODAL_RAG.md</code></a></td>
<td>Image, audio, and document RAG pipelines</td>
</tr>
<tr>
<td><a href="docs/STRUCTURED_OUTPUT.md"><code>STRUCTURED_OUTPUT.md</code></a></td>
<td>JSON schema validation, entity extraction, function calling</td>
</tr>
<tr>
<td><a href="docs/AGENT_COMMUNICATION.md"><code>AGENT_COMMUNICATION.md</code></a></td>
<td>Inter-agent messaging, handoffs, shared memory</td>
</tr>
<tr>
<td><a href="docs/TOOL_CALLING_AND_LOADING.md"><code>TOOL_CALLING_AND_LOADING.md</code></a></td>
<td>Tool registration, discovery, execution pipeline</td>
</tr>
<tr>
<td><a href="docs/OBSERVABILITY.md"><code>OBSERVABILITY.md</code></a></td>
<td>OpenTelemetry setup, custom spans, metrics export</td>
</tr>
<tr>
<td><a href="docs/COST_OPTIMIZATION.md"><code>COST_OPTIMIZATION.md</code></a></td>
<td>Token usage monitoring, caching strategies, model routing</td>
</tr>
<tr>
<td><a href="docs/SKILLS.md"><code>SKILLS.md</code></a></td>
<td>SKILL.md format specification, skill authoring guide</td>
</tr>
<tr>
<td><a href="docs/PLATFORM_SUPPORT.md"><code>PLATFORM_SUPPORT.md</code></a></td>
<td>Channel platform capabilities and adapter configuration</td>
</tr>
<tr>
<td><a href="docs/ECOSYSTEM.md"><code>ECOSYSTEM.md</code></a></td>
<td>Extension ecosystem, official packs, community extensions</td>
</tr>
<tr>
<td><a href="docs/PROVENANCE_IMMUTABILITY.md"><code>PROVENANCE_IMMUTABILITY.md</code></a></td>
<td>Sealed agents, signed event ledger, external anchoring</td>
</tr>
<tr>
<td><a href="docs/IMMUTABLE_AGENTS.md"><code>IMMUTABLE_AGENTS.md</code></a></td>
<td>Agent sealing, toolset manifests, revision tracking</td>
</tr>
<tr>
<td><a href="docs/RFC_EXTENSION_STANDARDS.md"><code>RFC_EXTENSION_STANDARDS.md</code></a></td>
<td>Extension pack authoring standards and conventions</td>
</tr>
<tr>
<td><a href="docs/EVALUATION_FRAMEWORK.md"><code>EVALUATION_FRAMEWORK.md</code></a></td>
<td>Agent evaluation, benchmarking, quality metrics</td>
</tr>
<tr>
<td><a href="docs/RECURSIVE_SELF_BUILDING_AGENTS.md"><code>RECURSIVE_SELF_BUILDING_AGENTS.md</code></a></td>
<td>Self-modifying agent patterns</td>
</tr>
<tr>
<td><a href="docs/LOGGING.md"><code>LOGGING.md</code></a></td>
<td>Structured logging configuration with pino</td>
</tr>
<tr>
<td><a href="docs/CLIENT_SIDE_STORAGE.md"><code>CLIENT_SIDE_STORAGE.md</code></a></td>
<td>Browser-compatible storage adapters</td>
</tr>
<tr>
<td><a href="docs/SQL_STORAGE_QUICKSTART.md"><code>SQL_STORAGE_QUICKSTART.md</code></a></td>
<td>SQLite/Postgres setup with <code>@framers/sql-storage-adapter</code></td>
</tr>
<tr>
<td><a href="docs/RELEASING.md"><code>RELEASING.md</code></a></td>
<td>Release process and semantic versioning</td>
</tr>
</tbody></table>
<hr>
<a id="md:key-design-patterns" class="tsd-anchor"></a><h2><a href="#md:key-design-patterns">Key Design Patterns</a></h2><ol>
<li><p><strong>Interface-driven design</strong> -- All major components define interface contracts (<code>IAgentOS</code>, <code>ITool</code>, <code>IGuardrailService</code>, <code>IChannelAdapter</code>, <code>IVoiceCallProvider</code>, <code>IVectorStore</code>, etc.). Implementations are swappable.</p>
</li>
<li><p><strong>Streaming-first</strong> -- Core interaction methods return <code>AsyncGenerator&lt;AgentOSResponse&gt;</code> for token-level streaming with natural backpressure. Consumers process chunks as they arrive.</p>
</li>
<li><p><strong>Extension system</strong> -- Pluggable components via <code>ExtensionDescriptor</code> with 12 kinds, priority stacking, lifecycle hooks, and secret management. Extensions can be loaded from npm packages, local modules, or inline factories.</p>
</li>
<li><p><strong>Multi-provider</strong> -- LLM providers, vector stores, voice providers, and channel adapters all support multiple backend implementations with runtime switching.</p>
</li>
<li><p><strong>Safety layering</strong> -- Defense-in-depth: input guardrails, output guardrails, circuit breakers, cost guards, tool execution guards, stuck detection, action deduplication, and HITL approval gates.</p>
</li>
<li><p><strong>Observability</strong> -- OpenTelemetry integration throughout the stack with distributed tracing, custom metrics, cost tracking, and structured logging via pino.</p>
</li>
</ol>
<hr>
<a id="md:contributing" class="tsd-anchor"></a><h2><a href="#md:contributing">Contributing</a></h2><pre><code class="language-bash"><span class="hl-0">git</span><span class="hl-1"> </span><span class="hl-2">clone</span><span class="hl-1"> </span><span class="hl-2">https://github.com/framersai/agentos.git</span><br/><span class="hl-4">cd</span><span class="hl-1"> </span><span class="hl-2">agentos</span><br/><span class="hl-0">pnpm</span><span class="hl-1"> </span><span class="hl-2">install</span><br/><span class="hl-0">pnpm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">build</span><br/><span class="hl-0">pnpm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">test</span>
</code><button>Copy</button></pre>
<p><strong>Available scripts:</strong></p>
<table>
<thead>
<tr>
<th>Script</th>
<th>Purpose</th>
</tr>
</thead>
<tbody><tr>
<td><code>pnpm run build</code></td>
<td>Clean, compile TypeScript, resolve aliases, fix ESM imports</td>
</tr>
<tr>
<td><code>pnpm run typecheck</code></td>
<td>Type-check without emitting</td>
</tr>
<tr>
<td><code>pnpm run lint</code></td>
<td>Strip non-breaking spaces + ESLint</td>
</tr>
<tr>
<td><code>pnpm run test</code></td>
<td>Run vitest test suite</td>
</tr>
<tr>
<td><code>pnpm run dev:test</code></td>
<td>Run vitest in watch mode</td>
</tr>
<tr>
<td><code>pnpm run docs</code></td>
<td>Generate TypeDoc API documentation</td>
</tr>
</tbody></table>
<p>We use <a href="https://www.conventionalcommits.org/">Conventional Commits</a>: <code>feat:</code> (minor), <code>fix:</code> (patch), <code>BREAKING CHANGE:</code> (major).</p>
<p>See the <a href="https://github.com/framersai/agentos/blob/master/CONTRIBUTING.md">Contributing Guide</a> for details.</p>
<hr>
<a id="md:license" class="tsd-anchor"></a><h2><a href="#md:license">License</a></h2><p><a href="./LICENSE">Apache 2.0</a> -- <a href="https://frame.dev">Frame.dev</a></p>
<div align="center">

<a href="https://agentos.sh">
  <img src="https://raw.githubusercontent.com/framersai/agentos/master/assets/agentos-primary-transparent-2x.png" alt="AgentOS" height="40" />
</a>
&nbsp;&nbsp;&nbsp;
<a href="https://frame.dev">
  <img src="https://raw.githubusercontent.com/framersai/agentos/master/assets/logos/frame-logo.svg" alt="Frame.dev" height="40" />
</a>

<p><strong>Built by <a href="https://frame.dev">Frame.dev</a></strong> · <a href="https://github.com/framersai">@framersai</a></p>
</div></div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-alpha" name="alpha"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Alpha</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-beta" name="beta"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Beta</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:agentos"><span>AgentOS</span></a><ul><li><a href="#md:table-of-contents"><span>Table of <wbr/>Contents</span></a></li><li><a href="#md:overview"><span>Overview</span></a></li><li><a href="#md:quick-start"><span>Quick <wbr/>Start</span></a></li><li><ul><li><a href="#md:minimal-example"><span>Minimal <wbr/>Example</span></a></li></ul></li><li><a href="#md:system-architecture"><span>System <wbr/>Architecture</span></a></li><li><ul><li><a href="#md:architecture-diagram"><span>Architecture <wbr/>Diagram</span></a></li><li><a href="#md:request-lifecycle"><span>Request <wbr/>Lifecycle</span></a></li><li><a href="#md:layer-breakdown"><span>Layer <wbr/>Breakdown</span></a></li></ul></li><li><a href="#md:core-modules"><span>Core <wbr/>Modules</span></a></li><li><ul><li><a href="#md:api-layer"><span>API <wbr/>Layer</span></a></li><li><a href="#md:cognitive-substrate-gmi"><span>Cognitive <wbr/>Substrate (GMI)</span></a></li><li><a href="#md:llm-provider-management"><span>LLM <wbr/>Provider <wbr/>Management</span></a></li><li><a href="#md:tool-system"><span>Tool <wbr/>System</span></a></li><li><a href="#md:extension-system"><span>Extension <wbr/>System</span></a></li><li><a href="#md:planning-engine"><span>Planning <wbr/>Engine</span></a></li><li><a href="#md:conversation-management"><span>Conversation <wbr/>Management</span></a></li><li><a href="#md:rag-retrieval-augmented-generation"><span>RAG (<wbr/>Retrieval <wbr/>Augmented <wbr/>Generation)</span></a></li><li><a href="#md:safety-and-guardrails"><span>Safety and <wbr/>Guardrails</span></a></li><li><ul><li><a href="#md:safety-primitives-coresafety"><span>Safety <wbr/>Primitives (core/safety/)</span></a></li><li><a href="#md:guardrails-coreguardrails"><span>Guardrails (core/guardrails/)</span></a></li></ul></li><li><a href="#md:human-in-the-loop-hitl"><span>Human-<wbr/>in-<wbr/>the-<wbr/>Loop (HITL)</span></a></li><li><a href="#md:channels-system"><span>Channels <wbr/>System</span></a></li><li><a href="#md:voice-and-telephony"><span>Voice and <wbr/>Telephony</span></a></li><li><a href="#md:workflows"><span>Workflows</span></a></li><li><a href="#md:multi-agent-coordination"><span>Multi-<wbr/>Agent <wbr/>Coordination</span></a></li><li><a href="#md:observability"><span>Observability</span></a></li><li><a href="#md:skills"><span>Skills</span></a></li><li><a href="#md:structured-output"><span>Structured <wbr/>Output</span></a></li></ul></li><li><a href="#md:configuration"><span>Configuration</span></a></li><li><ul><li><a href="#md:development-quick-start"><span>Development (<wbr/>Quick <wbr/>Start)</span></a></li><li><a href="#md:production"><span>Production</span></a></li><li><a href="#md:multiple-providers"><span>Multiple <wbr/>Providers</span></a></li><li><a href="#md:environment-variables"><span>Environment <wbr/>Variables</span></a></li></ul></li><li><a href="#md:api-reference"><span>API <wbr/>Reference</span></a></li><li><ul><li><a href="#md:agentos-class"><span>AgentOS <wbr/>Class</span></a></li><li><a href="#md:iagentos-interface"><span>IAgentOS <wbr/>Interface</span></a></li><li><a href="#md:agentosinput"><span>AgentOSInput</span></a></li><li><a href="#md:agentosresponse-streaming"><span>AgentOSResponse <wbr/>Streaming</span></a></li><li><a href="#md:itool-interface"><span>ITool <wbr/>Interface</span></a></li><li><a href="#md:extensiondescriptor"><span>Extension<wbr/>Descriptor</span></a></li><li><a href="#md:iguardrailservice"><span>IGuardrail<wbr/>Service</span></a></li><li><a href="#md:ihumaninteractionmanager"><span>IHuman<wbr/>Interaction<wbr/>Manager</span></a></li></ul></li><li><a href="#md:usage-examples"><span>Usage <wbr/>Examples</span></a></li><li><ul><li><a href="#md:streaming-chat"><span>Streaming <wbr/>Chat</span></a></li><li><a href="#md:adding-tools"><span>Adding <wbr/>Tools</span></a></li><li><a href="#md:multi-agent-collaboration"><span>Multi-<wbr/>Agent <wbr/>Collaboration</span></a></li><li><a href="#md:human-in-the-loop-approvals"><span>Human-<wbr/>in-<wbr/>the-<wbr/>Loop <wbr/>Approvals</span></a></li><li><a href="#md:structured-data-extraction"><span>Structured <wbr/>Data <wbr/>Extraction</span></a></li><li><a href="#md:rag-memory"><span>RAG <wbr/>Memory</span></a></li><li><a href="#md:custom-guardrails"><span>Custom <wbr/>Guardrails</span></a></li><li><a href="#md:channel-adapters"><span>Channel <wbr/>Adapters</span></a></li><li><a href="#md:voice-calls"><span>Voice <wbr/>Calls</span></a></li></ul></li><li><a href="#md:package-exports"><span>Package <wbr/>Exports</span></a></li><li><a href="#md:internal-documentation"><span>Internal <wbr/>Documentation</span></a></li><li><a href="#md:key-design-patterns"><span>Key <wbr/>Design <wbr/>Patterns</span></a></li><li><a href="#md:contributing"><span>Contributing</span></a></li><li><a href="#md:license"><span>License</span></a></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="/docs/ARCHITECTURE.html">Architecture</a><a href="/docs/CHANGELOG.html">Changelog</a><a href="/docs/PLANNING_ENGINE.html">Planning Engine</a><a href="/docs/HUMAN_IN_THE_LOOP.html">Human-in-the-Loop</a><a href="/docs/AGENT_COMMUNICATION.html">Agent Communication</a><a href="/docs/EVALUATION_FRAMEWORK.html">Evaluation Framework</a></nav><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>@framers/agentos - v0.1.33</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>